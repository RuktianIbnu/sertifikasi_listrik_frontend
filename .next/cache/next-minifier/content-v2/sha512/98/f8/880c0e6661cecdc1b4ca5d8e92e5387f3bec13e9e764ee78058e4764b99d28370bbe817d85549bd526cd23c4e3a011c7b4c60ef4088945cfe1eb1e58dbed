{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{T7VE:function(e,t,n){\"use strict\";(function(e){n.d(t,\"a\",(function(){return s}));var a=n(\"nKUr\");n(\"q1tI\");function s(e){var t=e.name,n=e.type,s=void 0===n?\"text\":n,r=e.onChange,c=e.labelText,i=e.placeholderText,o=e.valueData,l=void 0===o?\"\":o;return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"label\",{className:\"font-bold text-black text-sm\",children:c}),Object(a.jsx)(\"input\",{type:s,placeholder:i,name:t,className:\"w-full bg-gray-200 rounded-xl py-2 px-4 font-nunito focus:outline-none\",onChange:r,value:l})]})}e.propTypes={type:\"text\"}}).call(this,n(\"3UD+\")(e))},VCEN:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var a=n(\"nKUr\");n(\"q1tI\");function s(e){e.nameFormik;var t=e.type,n=void 0===t?\"text\":t,s=e.onChange,r=e.labelText,c=e.placeholderText,i=e.valueData,o=void 0===i?\"\":i,l=e.name;return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"label\",{className:\"font-bold text-black text-sm\",children:r}),Object(a.jsx)(\"textarea\",{onChange:s,type:n,placeholder:c,name:l,value:o,className:\"w-full bg-gray-200 rounded-xl p-3 font-nunito focus:outline-none\"})]})}},q9KE:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return P}));var a=n(\"h4VS\"),s=n(\"o0o1\"),r=n.n(s),c=n(\"HaE+\"),i=n(\"nKUr\"),o=n(\"q1tI\"),l=n(\"vOnD\"),u=n(\"3FTO\"),d=n(\"T7VE\"),b=n(\"VCEN\"),p=n(\"CIUX\"),x=n(\"sBml\"),f=n(\"Cs6D\"),j=n(\"tbn6\"),m=n(\"/MKj\"),h=n(\"nJTS\"),v=n(\"UGp+\"),O=n(\"KYPV\"),g=n(\"csfp\"),k=n(\"0WKb\"),y=n(\"3Qh7\"),I=n(\"0fKb\"),w=n.n(I),N=n(\"Mt5O\"),C=n(\"/RtB\"),T=n(\"Zh4P\");function S(){var e=Object(a.a)([\"\\n  background: #fff;\\n  border-radius: 10px;\\n  box-shadow: 2px 2px 7px rgba(0, 0, 0, 0.25);\\n  padding: 30px 46px 30px 46px;\\n\"]);return S=function(){return e},e}function _(){var e=Object(a.a)([\"\\n  font-size: 14px;\\n  background: #4361ee;\\n  color: #fff;\\n  padding: 10px 23px;\\n  border-radius: 10px;\\n  font-weight: 700;\\n  cursor: pointer;\\n\"]);return _=function(){return e},e}function E(){var e=Object(a.a)([\"\\n  font-size: 48px;\\n  font-weight: bold;\\n  color: #000;\\n\"]);return E=function(){return e},e}function A(){var e=Object(a.a)([\"\\n  padding: 23px 54px 0px 54px;\\n\"]);return A=function(){return e},e}function K(e,t){var n;if(\"undefined\"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e))||t&&e&&\"number\"===typeof e.length){n&&(e=n);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var r,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw r}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var D=v.a().shape({kodeInstansi:v.c().required(\"* Kode Instansi tidak boleh kosong\"),namaInstansi:v.c().required(\"* Nama Instansi tidak boleh kosong\")});function P(){var e=Object(o.useState)(!1),t=e[0],n=e[1],a=Object(o.useState)([]),s=a[0],l=a[1],v=Object(o.useState)(0),I=v[0],S=v[1],_=Object(m.b)(),E=Object(j.useToasts)().addToast,A=Object(m.c)((function(e){return e.accessToken})),z=Object(o.useState)([]),P=z[0],q=z[1],B=Object(o.useState)(),F=B[0],J=B[1],R=Object(o.useState)(!1),H=R[0],L=R[1],Y=Object(o.useState)(\"\"),Q=Y[0],W=Y[1],X=Object(o.useState)(\"\"),Z=X[0],$=X[1];Object(o.useEffect)((function(){null!=A&&ne()}),[]);var ee=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Authorization:A},_(Object(h.b)(!0)),e.next=5,x.a.get(\"/resources/instansi/\".concat(t),{headers:n});case 5:a=e.sent,s=a.status,c=a.data,200===s?(W(c.data.kode_instansi),$(c.data.nama_instansi),S(c.data.parent_id),_(Object(h.b)(!1))):500===s&&(E(\"Gagal Mengambil Data instansi\",{appearance:\"error\"}),_(Object(h.b)(!1))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),E(\"Gagal Mengambil Data instansi\",{appearance:\"error\"}),_(Object(h.b)(!1));case 14:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,s,c,i,o,l,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1!=H){e.next=13;break}return a={kode_instansi:ae.values.kodeInstansi,nama_instansi:ae.values.namaInstansi,parent_id:I},s={Authorization:A},console.log(a),_(Object(h.b)(!0)),e.next=8,x.a.put(\"/resources/instansi/\".concat(F),a,{headers:s});case 8:c=e.sent,i=c.status,c.data,200===i&&(E(\"Berhasil ubah Instansi\",{appearance:\"success\"}),_(Object(h.b)(!1)),se(),n(!1),ne()),e.next=22;break;case 13:if(0!=H){e.next=22;break}return o={kode_instansi:ae.values.kodeInstansi,nama_instansi:ae.values.namaInstansi,parent_id:I},l={Authorization:A},_(Object(h.b)(!0)),e.next=19,x.a.post(\"/resources/instansi\",o,{headers:l});case 19:u=e.sent,d=u.status,u.data,200===d&&(E(\"Berhasil tambah Instansi\",{appearance:\"success\"}),se(),_(Object(h.b)(!1)),n(!1),ne());case 22:console.log(\"kode : \"+Q,\"nama : \"+Z),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),_(Object(h.b)(!1)),E(\"Gagal eksekusi\",{appearance:\"error\"});case 29:case\"end\":return e.stop()}}),e,null,[[0,25]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,s,c,i,o,u,d,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={Authorization:A},e.next=4,x.a.get(\"/resources/instansi\",{headers:t});case 4:if(n=e.sent,a=n.status,s=n.data,200===a){c=[],i=s.data,o=K(i);try{for(o.s();!(u=o.n()).done;)d=u.value,b={value:d.id,label:d.kode_instansi+\" - \"+d.nama_instansi},c.push(b)}catch(r){o.e(r)}finally{o.f()}l(c),q(s.data),_(Object(h.b)(!1))}else 500===a&&E(\"Gagal Mengambil Data Instansi\",{appearance:\"error\"});e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),E(e.t0.response.data.message,{appearance:\"error\"}),_(Object(h.b)(!1));case 13:case\"end\":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ae=Object(O.a)({initialValues:{kodeInstansi:Q,namaInstansi:Z},validationSchema:D,enableReinitialize:!0}),se=function(){W(\"\"),$(\"\"),S(0)},re=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{se(),ee(t),J(t),n(!0)}catch(a){E(\"Gagal tambah instansi\",{appearance:\"error\"})}case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Authorization:A},_(Object(h.b)(!0)),e.next=5,x.a.delete(\"/resources/instansi/\"+t,{headers:n});case 5:a=e.sent,s=a.status,a.data,200===s?(E(\"Berhasil hapus instansi\",{appearance:\"success\"}),_(Object(h.b)(!1)),ne()):(E(\"Gagal hapus instansi\",{appearance:\"warning\"}),_(Object(h.b)(!1))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),E(\"Gagal hapus instansi\",{appearance:\"error\"}),_(Object(h.b)(!1));case 14:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(G,{children:[Object(i.jsxs)(\"div\",{className:\"flex flex-row justify-between items-center pb-24\",children:[Object(i.jsx)(M,{children:\"Master Instansi\"}),Object(i.jsx)(U,{className:\"button\",onClick:function(){se(),n(!0),L(!1)},children:\"Tambah Instansi\"})]}),Object(i.jsx)(T.a,{}),Object(i.jsxs)(V,{children:[Object(i.jsxs)(\"div\",{className:\"grid grid-cols-12 gap-4 border-b-2 my-2 items-center py-2\",children:[Object(i.jsx)(\"div\",{className:\"text-sm font-bold text-center\",children:\"#\"}),Object(i.jsx)(\"div\",{className:\"text-sm font-bold col-span-4 text-left break-all\",children:\"Induk Instansi\"}),Object(i.jsx)(\"div\",{className:\"text-sm font-bold col-span-2 text-left break-all\",children:\"Kode Instansi\"}),Object(i.jsx)(\"div\",{className:\"text-sm font-bold col-span-4 text-left break-all\",children:\"Nama Instansi\"}),Object(i.jsx)(\"div\",{className:\"text-sm font-bold text-left break-all\",children:\"Action\"})]}),P.map((function(e,t){return Object(i.jsxs)(\"div\",{className:\"grid grid-cols-12 gap-4 border-b items-center py-2\",children:[Object(i.jsx)(\"div\",{className:\"text-sm text-center justify-center\",children:t+1}),Object(i.jsx)(\"div\",{className:\"text-sm col-span-4 break-words text-left\",children:e.parent_instansi}),Object(i.jsx)(\"div\",{className:\"text-sm col-span-2 whitespace-normal text-left\",children:e.kode_instansi}),Object(i.jsx)(\"div\",{className:\"text-sm col-span-4 break-words text-left\",children:e.nama_instansi}),Object(i.jsxs)(\"div\",{className:\"text-sm text-left\",children:[Object(i.jsx)(g.a,{onClick:function(){L(!0),re(e.id)},title:\"Edit\",children:Object(i.jsx)(k.a,{className:\"cursor-pointer mr-2\",size:\"24px\"})}),Object(i.jsx)(g.a,{onClick:function(){window.confirm(\"Yakin hapus \"+e.nama_instansi+\" ?\")&&ce(e.id)},title:\"Hapus\",children:Object(i.jsx)(y.a,{className:\"cursor-pointer ml-2\",size:\"24px\"})})]})]},t)})),Object(i.jsx)(\"div\",{className:\"w-full mt-8 flex flex-row justify-center items-center\",children:Object(i.jsx)(w.a,{activePage:15,itemsCountPerPage:10,totalItemsCount:450,pageRangeDisplayed:5,onChange:function(e){return console.log(e)},itemClass:\"bg-blue-100 py-2 px-4 mx-1 rounded font-bold\",linkClass:\"text-gray-700 hover:no-underline hover:text-gray-700\",hideFirstLastPages:!0,prevPageText:Object(i.jsx)(N.a,{}),nextPageText:Object(i.jsx)(C.a,{}),activeClass:\"bg-blue-400\",activeLinkClass:\"text-white\"})})]}),Object(i.jsxs)(u.a,{modalTitle:\"Tambah Instansi\",show:t,onClickBackdrop:function(){n(!t),L(!1)},children:[Object(i.jsxs)(\"div\",{className:\"col-span-6 sm:col-span-3 mb-2\",children:[Object(i.jsx)(\"label\",{className:\"font-bold text-black text-sm\",children:\"Induk Instansi\"}),Object(i.jsx)(f.a,{placeholder:\"Pilih induk instansi\",value:s.find((function(e){return e.value===I})),onChange:function(e){return S(e.value)},options:s})]}),Object(i.jsxs)(\"form\",{onSubmit:ae.handleSubmit,children:[Object(i.jsx)(d.a,{labelText:\"Kode Instansi\",className:\"my-2\",placeholder:\"Kode Instansi\",type:\"kodeInstansi\",name:\"kodeInstansi\",onChange:ae.handleChange,valueData:ae.values.kodeInstansi}),ae.errors.kodeInstansi&&Object(i.jsx)(\"span\",{className:\"text-xs text-red-500\",children:ae.errors.kodeInstansi}),Object(i.jsx)(b.a,{labelText:\"Nama Instansi\",className:\"my-2\",placeholder:\"Nama Instansi\",type:\"namaInstansi\",name:\"namaInstansi\",onChange:ae.handleChange,valueData:ae.values.namaInstansi}),ae.errors.namaInstansi&&Object(i.jsx)(\"span\",{className:\"text-xs text-red-500\",children:ae.errors.namaInstansi}),Object(i.jsx)(p.a,{onClick:te,buttonText:\"Simpan\",buttonColor:\"#4361EE\",buttonTextColor:\"#FFF\",fontSize:14,className:\"mt-4\",type:\"submit\"})]})]})]})}var G=l.a.div(A()),M=l.a.h1(E()),U=l.a.div(_()),V=l.a.div(S())}}]);","extractedComments":[]}