{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\project\\\\e-survey-dashboard\\\\pages\\\\master\\\\direktorat.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Modal from \"../../components/Modal\";\nimport Input from \"../../components/Input\";\nimport TextArea from \"../../components/TextArea\";\nimport Button from \"../../components/Button\";\nimport { axiosGeneral } from \"../../helpers/global\";\nimport Select from \"react-select\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setLoading } from \"../../store/actionCreator\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { Edit, Delete } from \"@material-ui/icons\";\nimport Pagination from \"react-js-pagination\";\nimport { ChevronLeft, ChevronRight } from \"@material-ui/icons\";\nimport Search from \"../../components/Search\";\nconst FormSchema = Yup.object().shape({\n  kodeInstansi: Yup.string().required(\"* Kode Instansi tidak boleh kosong\"),\n  namaInstansi: Yup.string().required(\"* Nama Instansi tidak boleh kosong\")\n});\nexport default function Direktorat() {\n  const {\n    0: showModal,\n    1: setShowModal\n  } = useState(false);\n  const {\n    0: dataInstasi,\n    1: setDataInstansi\n  } = useState([]);\n  const {\n    0: selectedInstansi,\n    1: setSelectedInstansi\n  } = useState(0);\n  const dispatch = useDispatch();\n  const {\n    addToast\n  } = useToasts();\n  const accessToken = useSelector(state => state.accessToken);\n  const {\n    0: dataInstasiAll,\n    1: setDataInstansiAll\n  } = useState([]);\n  const {\n    0: haveId,\n    1: setHaveId\n  } = useState();\n  const {\n    0: isEdit,\n    1: setIsEdit\n  } = useState(false);\n  const {\n    0: getKodeInstansi,\n    1: setKodeInstansi\n  } = useState(\"\");\n  const {\n    0: getNamaInstansi,\n    1: setNamaInstansi\n  } = useState(\"\");\n  useEffect(() => {\n    if (accessToken != null) {\n      GetInstansiAll();\n    }\n  }, []);\n\n  const GetInstansiById = async id => {\n    try {\n      const headers = {\n        Authorization: accessToken\n      };\n      dispatch(setLoading(true));\n      const response = await axiosGeneral.get(`/resources/instansi/${id}`, {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        setKodeInstansi(data.data.kode_instansi);\n        setNamaInstansi(data.data.nama_instansi);\n        setSelectedInstansi(data.data.parent_id);\n        dispatch(setLoading(false));\n      } else if (status === 500) {\n        addToast(\"Gagal Mengambil Data instansi\", {\n          appearance: \"error\"\n        });\n        dispatch(setLoading(false));\n      }\n    } catch (error) {\n      addToast(\"Gagal Mengambil Data instansi\", {\n        appearance: \"error\"\n      });\n      dispatch(setLoading(false));\n    }\n  };\n\n  const doSave = async values => {\n    try {\n      if (isEdit == true) {\n        const body = {\n          kode_instansi: formik.values.kodeInstansi,\n          nama_instansi: formik.values.namaInstansi,\n          parent_id: selectedInstansi\n        };\n        const headers = {\n          Authorization: accessToken\n        };\n        console.log(body);\n        dispatch(setLoading(true));\n        const response = await axiosGeneral.put(`/resources/instansi/${haveId}`, body, {\n          headers\n        });\n        const {\n          status,\n          data\n        } = response;\n\n        if (status === 200) {\n          addToast(\"Berhasil ubah Instansi\", {\n            appearance: \"success\"\n          });\n          dispatch(setLoading(false));\n          DoNull();\n          setShowModal(false);\n          GetInstansiAll();\n        }\n      } else if (isEdit == false) {\n        const body = {\n          kode_instansi: formik.values.kodeInstansi,\n          nama_instansi: formik.values.namaInstansi,\n          parent_id: selectedInstansi\n        };\n        const headers = {\n          Authorization: accessToken\n        };\n        dispatch(setLoading(true));\n        const response = await axiosGeneral.post(`/resources/instansi`, body, {\n          headers\n        });\n        const {\n          status,\n          data\n        } = response;\n\n        if (status === 200) {\n          addToast(\"Berhasil tambah Instansi\", {\n            appearance: \"success\"\n          });\n          DoNull();\n          dispatch(setLoading(false));\n          setShowModal(false);\n          GetInstansiAll();\n        }\n      }\n\n      console.log(\"kode : \" + getKodeInstansi, \"nama : \" + getNamaInstansi);\n    } catch (error) {\n      dispatch(setLoading(false));\n      addToast(\"Gagal eksekusi\", {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  const GetInstansiAll = async () => {\n    try {\n      const headers = {\n        Authorization: accessToken\n      };\n      const response = await axiosGeneral.get(\"/resources/instansi\", {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        const intansiArr = [];\n        const instansi = data.data;\n\n        for (const iterator of instansi) {\n          let val = {\n            value: iterator.id,\n            label: iterator.kode_instansi + \" - \" + iterator.nama_instansi\n          };\n          intansiArr.push(val);\n        }\n\n        setDataInstansi(intansiArr);\n        setDataInstansiAll(data.data);\n        dispatch(setLoading(false));\n      } else if (status === 500) {\n        addToast(\"Gagal Mengambil Data Instansi\", {\n          appearance: \"error\"\n        });\n      }\n    } catch (error) {\n      addToast(error.response.data.message, {\n        appearance: \"error\"\n      });\n      dispatch(setLoading(false));\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      kodeInstansi: getKodeInstansi,\n      namaInstansi: getNamaInstansi\n    },\n    validationSchema: FormSchema,\n    enableReinitialize: true\n  });\n\n  const DoNull = () => {\n    setKodeInstansi(\"\"), setNamaInstansi(\"\"), setSelectedInstansi(0);\n  };\n\n  const doModalEdit = async id => {\n    try {\n      DoNull();\n      GetInstansiById(id);\n      setHaveId(id);\n      setShowModal(true);\n    } catch (error) {\n      addToast(\"Gagal tambah instansi\", {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  const doDelete = async id => {\n    try {\n      const headers = {\n        Authorization: accessToken\n      };\n      dispatch(setLoading(true));\n      const response = await axiosGeneral.delete(`/resources/instansi/` + id, {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        addToast(\"Berhasil hapus instansi\", {\n          appearance: \"success\"\n        });\n        dispatch(setLoading(false));\n        GetInstansiAll();\n      } else {\n        addToast(\"Gagal hapus instansi\", {\n          appearance: \"warning\"\n        });\n        dispatch(setLoading(false));\n      }\n    } catch (error) {\n      addToast(\"Gagal hapus instansi\", {\n        appearance: \"error\"\n      });\n      dispatch(setLoading(false));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row justify-between items-center pb-24\",\n      children: [/*#__PURE__*/_jsxDEV(MenuTitle, {\n        children: \"Master Instansi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonAdd, {\n        className: \"button\",\n        onClick: () => {\n          DoNull();\n          setShowModal(true);\n          setIsEdit(false);\n        },\n        children: \"Tambah Instansi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-12 gap-4 border-b-2 my-2 items-center py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold text-center\",\n          children: \"#\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold col-span-4 text-left break-all\",\n          children: \"Induk Instansi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold col-span-2 text-left break-all\",\n          children: \"Kode Instansi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold col-span-4 text-left break-all\",\n          children: \"Nama Instansi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold text-left break-all\",\n          children: \"Action\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), dataInstasiAll.map((value, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-12 gap-4 border-b items-center py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-center justify-center\",\n          children: index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm col-span-4 break-words text-left\",\n          children: value.parent_instansi || \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm col-span-2 whitespace-normal text-left\",\n          children: value.kode_instansi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm col-span-4 break-words text-left\",\n          children: value.nama_instansi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-left\",\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            onClick: () => {\n              setIsEdit(true);\n              doModalEdit(value.id);\n            },\n            title: \"Edit\",\n            children: /*#__PURE__*/_jsxDEV(Edit, {\n              className: \"cursor-pointer mr-2\",\n              size: \"24px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            onClick: () => {\n              if (window.confirm(`Yakin hapus ` + value.nama_instansi + ` ?`)) {\n                doDelete(value.id);\n              }\n\n              ;\n            },\n            title: \"Hapus\",\n            children: /*#__PURE__*/_jsxDEV(Delete, {\n              className: \"cursor-pointer ml-2\",\n              size: \"24px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full mt-8 flex flex-row justify-center items-center\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          activePage: 15,\n          itemsCountPerPage: 10,\n          totalItemsCount: 450,\n          pageRangeDisplayed: 5,\n          onChange: pageNumber => console.log(pageNumber),\n          itemClass: \"bg-blue-100 py-2 px-4 mx-1 rounded font-bold\",\n          linkClass: \"text-gray-700 hover:no-underline hover:text-gray-700\",\n          hideFirstLastPages: true,\n          prevPageText: /*#__PURE__*/_jsxDEV(ChevronLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 27\n          }, this),\n          nextPageText: /*#__PURE__*/_jsxDEV(ChevronRight, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 27\n          }, this),\n          activeClass: \"bg-blue-400\",\n          activeLinkClass: \"text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      modalTitle: \"Tambah Instansi\",\n      show: showModal,\n      onClickBackdrop: () => {\n        setShowModal(!showModal);\n        setIsEdit(false);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-6 sm:col-span-3 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"font-bold text-black text-sm\",\n          children: \"Induk Instansi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          placeholder: \"Pilih induk instansi\",\n          value: dataInstasi.find(op => op.value === selectedInstansi),\n          onChange: e => setSelectedInstansi(e.value),\n          options: dataInstasi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formik.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          labelText: \"Kode Instansi\",\n          className: \"my-2\",\n          placeholder: \"Kode Instansi\",\n          type: \"kodeInstansi\",\n          name: \"kodeInstansi\",\n          onChange: formik.handleChange,\n          valueData: formik.values.kodeInstansi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), formik.errors.kodeInstansi && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-red-500\",\n          children: formik.errors.kodeInstansi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n          labelText: \"Nama Instansi\",\n          className: \"my-2\",\n          placeholder: \"Nama Instansi\",\n          type: \"namaInstansi\",\n          name: \"namaInstansi\",\n          onChange: formik.handleChange,\n          valueData: formik.values.namaInstansi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), formik.errors.namaInstansi && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-red-500\",\n          children: formik.errors.namaInstansi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: doSave,\n          buttonText: \"Simpan\",\n          buttonColor: \"#4361EE\",\n          buttonTextColor: \"#FFF\",\n          fontSize: 14,\n          className: \"mt-4\",\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n}\nconst Wrapper = styled.div`\n  padding: 23px 54px 0px 54px;\n`;\nconst MenuTitle = styled.h1`\n  font-size: 48px;\n  font-weight: bold;\n  color: #000;\n`;\nconst ButtonAdd = styled.div`\n  font-size: 14px;\n  background: #4361ee;\n  color: #fff;\n  padding: 10px 23px;\n  border-radius: 10px;\n  font-weight: 700;\n  cursor: pointer;\n`;\nconst Card = styled.div`\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 2px 2px 7px rgba(0, 0, 0, 0.25);\n  padding: 30px 46px 30px 46px;\n`;","map":{"version":3,"sources":["C:/project/e-survey-dashboard/pages/master/direktorat.js"],"names":["React","useState","useEffect","styled","Modal","Input","TextArea","Button","axiosGeneral","Select","useToasts","useDispatch","useSelector","setLoading","Yup","useFormik","Tooltip","Edit","Delete","Pagination","ChevronLeft","ChevronRight","Search","FormSchema","object","shape","kodeInstansi","string","required","namaInstansi","Direktorat","showModal","setShowModal","dataInstasi","setDataInstansi","selectedInstansi","setSelectedInstansi","dispatch","addToast","accessToken","state","dataInstasiAll","setDataInstansiAll","haveId","setHaveId","isEdit","setIsEdit","getKodeInstansi","setKodeInstansi","getNamaInstansi","setNamaInstansi","GetInstansiAll","GetInstansiById","id","headers","Authorization","response","get","status","data","kode_instansi","nama_instansi","parent_id","appearance","error","doSave","values","body","formik","console","log","put","DoNull","post","intansiArr","instansi","iterator","val","value","label","push","message","initialValues","validationSchema","enableReinitialize","doModalEdit","doDelete","delete","map","index","parent_instansi","window","confirm","pageNumber","find","op","e","handleSubmit","handleChange","errors","Wrapper","div","MenuTitle","h1","ButtonAdd","Card"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,oBAA7B;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,oBAA1C;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,MAAMC,UAAU,GAAGT,GAAG,CAACU,MAAJ,GAAaC,KAAb,CAAmB;AACpCC,EAAAA,YAAY,EAAEZ,GAAG,CAACa,MAAJ,GAAaC,QAAb,CAAsB,oCAAtB,CADsB;AAEpCC,EAAAA,YAAY,EAAEf,GAAG,CAACa,MAAJ,GAAaC,QAAb,CAAsB,oCAAtB;AAFsB,CAAnB,CAAnB;AAKA,eAAe,SAASE,UAAT,GAAsB;AACnC,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA4B/B,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM;AAAA,OAACgC,WAAD;AAAA,OAAcC;AAAd,MAAiCjC,QAAQ,CAAC,EAAD,CAA/C;AACA,QAAM;AAAA,OAACkC,gBAAD;AAAA,OAAmBC;AAAnB,MAA0CnC,QAAQ,CAAC,CAAD,CAAxD;AACA,QAAMoC,QAAQ,GAAG1B,WAAW,EAA5B;AACA,QAAM;AAAE2B,IAAAA;AAAF,MAAe5B,SAAS,EAA9B;AACA,QAAM6B,WAAW,GAAG3B,WAAW,CAAE4B,KAAD,IAAWA,KAAK,CAACD,WAAlB,CAA/B;AACA,QAAM;AAAA,OAACE,cAAD;AAAA,OAAiBC;AAAjB,MAAuCzC,QAAQ,CAAC,EAAD,CAArD;AACA,QAAM;AAAA,OAAC0C,MAAD;AAAA,OAASC;AAAT,MAAsB3C,QAAQ,EAApC;AACA,QAAM;AAAA,OAAC4C,MAAD;AAAA,OAASC;AAAT,MAAsB7C,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM;AAAA,OAAC8C,eAAD;AAAA,OAAkBC;AAAlB,MAAqC/C,QAAQ,CAAC,EAAD,CAAnD;AACA,QAAM;AAAA,OAACgD,eAAD;AAAA,OAAkBC;AAAlB,MAAqCjD,QAAQ,CAAC,EAAD,CAAnD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIqC,WAAW,IAAI,IAAnB,EAAyB;AACvBY,MAAAA,cAAc;AACf;AACF,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMC,eAAe,GAAG,MAAOC,EAAP,IAAc;AACpC,QAAI;AACF,YAAMC,OAAO,GAAG;AACdC,QAAAA,aAAa,EAAEhB;AADD,OAAhB;AAGAF,MAAAA,QAAQ,CAACxB,UAAU,CAAC,IAAD,CAAX,CAAR;AACA,YAAM2C,QAAQ,GAAG,MAAMhD,YAAY,CAACiD,GAAb,CAAkB,uBAAsBJ,EAAG,EAA3C,EAA8C;AACnEC,QAAAA;AADmE,OAA9C,CAAvB;AAGA,YAAM;AAAEI,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAmBH,QAAzB;;AACA,UAAIE,MAAM,KAAK,GAAf,EAAoB;AAClBV,QAAAA,eAAe,CAACW,IAAI,CAACA,IAAL,CAAUC,aAAX,CAAf;AACAV,QAAAA,eAAe,CAACS,IAAI,CAACA,IAAL,CAAUE,aAAX,CAAf;AACAzB,QAAAA,mBAAmB,CAACuB,IAAI,CAACA,IAAL,CAAUG,SAAX,CAAnB;AACAzB,QAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACD,OALD,MAKO,IAAI6C,MAAM,KAAK,GAAf,EAAoB;AACzBpB,QAAAA,QAAQ,CAAC,+BAAD,EAAkC;AAAEyB,UAAAA,UAAU,EAAE;AAAd,SAAlC,CAAR;AACA1B,QAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACD;AACF,KAlBD,CAkBE,OAAOmD,KAAP,EAAc;AACd1B,MAAAA,QAAQ,CAAC,+BAAD,EAAkC;AAAEyB,QAAAA,UAAU,EAAE;AAAd,OAAlC,CAAR;AACA1B,MAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACD;AACF,GAvBD;;AAyBA,QAAMoD,MAAM,GAAG,MAAOC,MAAP,IAAkB;AAC/B,QAAI;AACF,UAAIrB,MAAM,IAAI,IAAd,EAAoB;AAClB,cAAMsB,IAAI,GAAG;AACXP,UAAAA,aAAa,EAAEQ,MAAM,CAACF,MAAP,CAAcxC,YADlB;AAEXmC,UAAAA,aAAa,EAAEO,MAAM,CAACF,MAAP,CAAcrC,YAFlB;AAGXiC,UAAAA,SAAS,EAAE3B;AAHA,SAAb;AAMA,cAAMmB,OAAO,GAAG;AACdC,UAAAA,aAAa,EAAEhB;AADD,SAAhB;AAGA8B,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA9B,QAAAA,QAAQ,CAACxB,UAAU,CAAC,IAAD,CAAX,CAAR;AACA,cAAM2C,QAAQ,GAAG,MAAMhD,YAAY,CAAC+D,GAAb,CACpB,uBAAsB5B,MAAO,EADT,EAErBwB,IAFqB,EAGrB;AACEb,UAAAA;AADF,SAHqB,CAAvB;AAOA,cAAM;AAAEI,UAAAA,MAAF;AAAUC,UAAAA;AAAV,YAAmBH,QAAzB;;AACA,YAAIE,MAAM,KAAK,GAAf,EAAoB;AAClBpB,UAAAA,QAAQ,CAAC,wBAAD,EAA2B;AAAEyB,YAAAA,UAAU,EAAE;AAAd,WAA3B,CAAR;AACA1B,UAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACA2D,UAAAA,MAAM;AACNxC,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACAmB,UAAAA,cAAc;AACf;AACF,OA3BD,MA2BO,IAAIN,MAAM,IAAI,KAAd,EAAqB;AAC1B,cAAMsB,IAAI,GAAG;AACXP,UAAAA,aAAa,EAAEQ,MAAM,CAACF,MAAP,CAAcxC,YADlB;AAEXmC,UAAAA,aAAa,EAAEO,MAAM,CAACF,MAAP,CAAcrC,YAFlB;AAGXiC,UAAAA,SAAS,EAAE3B;AAHA,SAAb;AAMA,cAAMmB,OAAO,GAAG;AACdC,UAAAA,aAAa,EAAEhB;AADD,SAAhB;AAIAF,QAAAA,QAAQ,CAACxB,UAAU,CAAC,IAAD,CAAX,CAAR;AACA,cAAM2C,QAAQ,GAAG,MAAMhD,YAAY,CAACiE,IAAb,CAAmB,qBAAnB,EAAyCN,IAAzC,EAA+C;AACpEb,UAAAA;AADoE,SAA/C,CAAvB;AAGA,cAAM;AAAEI,UAAAA,MAAF;AAAUC,UAAAA;AAAV,YAAmBH,QAAzB;;AACA,YAAIE,MAAM,KAAK,GAAf,EAAoB;AAClBpB,UAAAA,QAAQ,CAAC,0BAAD,EAA6B;AAAEyB,YAAAA,UAAU,EAAE;AAAd,WAA7B,CAAR;AACAS,UAAAA,MAAM;AACNnC,UAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACAmB,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACAmB,UAAAA,cAAc;AACf;AACF;;AACDkB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAUvB,eAAtB,EAAuC,YAAUE,eAAjD;AACD,KArDD,CAqDE,OAAOe,KAAP,EAAc;AACd3B,MAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACAyB,MAAAA,QAAQ,CAAC,gBAAD,EAAmB;AAAEyB,QAAAA,UAAU,EAAE;AAAd,OAAnB,CAAR;AACD;AACF,GA1DD;;AA4DA,QAAMZ,cAAc,GAAG,YAAY;AACjC,QAAI;AACF,YAAMG,OAAO,GAAG;AACdC,QAAAA,aAAa,EAAEhB;AADD,OAAhB;AAIA,YAAMiB,QAAQ,GAAG,MAAMhD,YAAY,CAACiD,GAAb,CAAiB,qBAAjB,EAAwC;AAC7DH,QAAAA;AAD6D,OAAxC,CAAvB;AAIA,YAAM;AAAEI,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAmBH,QAAzB;;AACA,UAAIE,MAAM,KAAK,GAAf,EAAoB;AAClB,cAAMgB,UAAU,GAAG,EAAnB;AACA,cAAMC,QAAQ,GAAGhB,IAAI,CAACA,IAAtB;;AACA,aAAK,MAAMiB,QAAX,IAAuBD,QAAvB,EAAiC;AAC/B,cAAIE,GAAG,GAAG;AACRC,YAAAA,KAAK,EAAEF,QAAQ,CAACvB,EADR;AAER0B,YAAAA,KAAK,EAAEH,QAAQ,CAAChB,aAAT,GAAyB,KAAzB,GAAiCgB,QAAQ,CAACf;AAFzC,WAAV;AAIAa,UAAAA,UAAU,CAACM,IAAX,CAAgBH,GAAhB;AACD;;AACD3C,QAAAA,eAAe,CAACwC,UAAD,CAAf;AACAhC,QAAAA,kBAAkB,CAACiB,IAAI,CAACA,IAAN,CAAlB;AACAtB,QAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACD,OAbD,MAaO,IAAI6C,MAAM,KAAK,GAAf,EAAoB;AACzBpB,QAAAA,QAAQ,CAAC,+BAAD,EAAkC;AAAEyB,UAAAA,UAAU,EAAE;AAAd,SAAlC,CAAR;AACD;AACF,KA1BD,CA0BE,OAAOC,KAAP,EAAc;AACd1B,MAAAA,QAAQ,CAAC0B,KAAK,CAACR,QAAN,CAAeG,IAAf,CAAoBsB,OAArB,EAA8B;AAAElB,QAAAA,UAAU,EAAE;AAAd,OAA9B,CAAR;AACA1B,MAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACD;AACF,GA/BD;;AAiCA,QAAMuD,MAAM,GAAGrD,SAAS,CAAC;AACvBmE,IAAAA,aAAa,EAAE;AACbxD,MAAAA,YAAY,EAAEqB,eADD;AAEblB,MAAAA,YAAY,EAAEoB;AAFD,KADQ;AAKvBkC,IAAAA,gBAAgB,EAAE5D,UALK;AAMvB6D,IAAAA,kBAAkB,EAAE;AANG,GAAD,CAAxB;;AASA,QAAMZ,MAAM,GAAG,MAAM;AACjBxB,IAAAA,eAAe,CAAC,EAAD,CAAf,EACAE,eAAe,CAAC,EAAD,CADf,EAEAd,mBAAmB,CAAC,CAAD,CAFnB;AAGH,GAJD;;AAMA,QAAMiD,WAAW,GAAG,MAAOhC,EAAP,IAAc;AAChC,QAAI;AACFmB,MAAAA,MAAM;AACNpB,MAAAA,eAAe,CAACC,EAAD,CAAf;AACAT,MAAAA,SAAS,CAACS,EAAD,CAAT;AACArB,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,KALD,CAKE,OAAOgC,KAAP,EAAc;AACd1B,MAAAA,QAAQ,CAAC,uBAAD,EAA0B;AAAEyB,QAAAA,UAAU,EAAE;AAAd,OAA1B,CAAR;AACD;AACF,GATD;;AAWA,QAAMuB,QAAQ,GAAG,MAAOjC,EAAP,IAAc;AAC7B,QAAI;AACF,YAAMC,OAAO,GAAG;AACdC,QAAAA,aAAa,EAAEhB;AADD,OAAhB;AAGAF,MAAAA,QAAQ,CAACxB,UAAU,CAAC,IAAD,CAAX,CAAR;AACA,YAAM2C,QAAQ,GAAG,MAAMhD,YAAY,CAAC+E,MAAb,CACpB,sBAAD,GAAuBlC,EADF,EAErB;AACEC,QAAAA;AADF,OAFqB,CAAvB;AAMA,YAAM;AAAEI,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAmBH,QAAzB;;AACA,UAAIE,MAAM,KAAK,GAAf,EAAoB;AAClBpB,QAAAA,QAAQ,CAAC,yBAAD,EAA4B;AAAEyB,UAAAA,UAAU,EAAE;AAAd,SAA5B,CAAR;AACA1B,QAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACAsC,QAAAA,cAAc;AACf,OAJD,MAIO;AACLb,QAAAA,QAAQ,CAAC,sBAAD,EAAyB;AAAEyB,UAAAA,UAAU,EAAE;AAAd,SAAzB,CAAR;AACA1B,QAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACD;AACF,KApBD,CAoBE,OAAOmD,KAAP,EAAc;AACd1B,MAAAA,QAAQ,CAAC,sBAAD,EAAyB;AAAEyB,QAAAA,UAAU,EAAE;AAAd,OAAzB,CAAR;AACA1B,MAAAA,QAAQ,CAACxB,UAAU,CAAC,KAAD,CAAX,CAAR;AACD;AACF,GAzBD;;AA2BA,sBACE,QAAC,OAAD;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,kDAAf;AAAA,8BACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,SAAD;AACE,QAAA,SAAS,EAAC,QADZ;AAEE,QAAA,OAAO,EAAE,MAAM;AACb2D,UAAAA,MAAM;AACNxC,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACAc,UAAAA,SAAS,CAAC,KAAD,CAAT;AACD,SANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAcE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAdF,eAeE,QAAC,IAAD;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,2DAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,UAAA,SAAS,EAAC,kDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAKE;AAAK,UAAA,SAAS,EAAC,kDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAQE;AAAK,UAAA,SAAS,EAAC,kDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eAWE;AAAK,UAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAcGL,cAAc,CAAC+C,GAAf,CAAmB,CAACV,KAAD,EAAQW,KAAR,kBAClB;AAEE,QAAA,SAAS,EAAC,oDAFZ;AAAA,gCAIE;AAAK,UAAA,SAAS,EAAC,oCAAf;AAAA,oBACGA,KAAK,GAAG;AADX;AAAA;AAAA;AAAA;AAAA,gBAJF,eAOE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAAA,oBACGX,KAAK,CAACY,eAAN,IAAyB;AAD5B;AAAA;AAAA;AAAA;AAAA,gBAPF,eAUE;AAAK,UAAA,SAAS,EAAC,gDAAf;AAAA,oBACGZ,KAAK,CAAClB;AADT;AAAA;AAAA;AAAA;AAAA,gBAVF,eAaE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAAA,oBACGkB,KAAK,CAACjB;AADT;AAAA;AAAA;AAAA;AAAA,gBAbF,eAgBE;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAA,kCACE,QAAC,OAAD;AACE,YAAA,OAAO,EAAE,MAAM;AACbf,cAAAA,SAAS,CAAC,IAAD,CAAT;AACAuC,cAAAA,WAAW,CAACP,KAAK,CAACzB,EAAP,CAAX;AACD,aAJH;AAKE,YAAA,KAAK,EAAC,MALR;AAAA,mCAOE,QAAC,IAAD;AAAM,cAAA,SAAS,EAAC,qBAAhB;AAAsC,cAAA,IAAI,EAAC;AAA3C;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,kBADF,eAUE,QAAC,OAAD;AACE,YAAA,OAAO,EAAE,MAAM;AAAC,kBAAGsC,MAAM,CAACC,OAAP,CAAgB,cAAD,GAAgBd,KAAK,CAACjB,aAAtB,GAAqC,IAApD,CAAH,EAA4D;AAACyB,gBAAAA,QAAQ,CAACR,KAAK,CAACzB,EAAP,CAAR;AAAmB;;AAAA;AAAE,aADpG;AAEE,YAAA,KAAK,EAAC,OAFR;AAAA,mCAIE,QAAC,MAAD;AAAQ,cAAA,SAAS,EAAC,qBAAlB;AAAwC,cAAA,IAAI,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,kBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBF;AAAA,SACOoC,KADP;AAAA;AAAA;AAAA;AAAA,cADD,CAdH,eAkDE;AAAK,QAAA,SAAS,EAAC,uDAAf;AAAA,+BACE,QAAC,UAAD;AACE,UAAA,UAAU,EAAE,EADd;AAEE,UAAA,iBAAiB,EAAE,EAFrB;AAGE,UAAA,eAAe,EAAE,GAHnB;AAIE,UAAA,kBAAkB,EAAE,CAJtB;AAKE,UAAA,QAAQ,EAAGI,UAAD,IAAgBxB,OAAO,CAACC,GAAR,CAAYuB,UAAZ,CAL5B;AAME,UAAA,SAAS,EAAC,8CANZ;AAOE,UAAA,SAAS,EAAC,sDAPZ;AAQE,UAAA,kBAAkB,EAAE,IARtB;AASE,UAAA,YAAY,eAAE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,kBAThB;AAUE,UAAA,YAAY,eAAE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,kBAVhB;AAWE,UAAA,WAAW,EAAC,aAXd;AAYE,UAAA,eAAe,EAAC;AAZlB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAlDF;AAAA;AAAA;AAAA;AAAA;AAAA,YAfF,eAkFE,QAAC,KAAD;AACE,MAAA,UAAU,EAAC,iBADb;AAEE,MAAA,IAAI,EAAE9D,SAFR;AAGE,MAAA,eAAe,EAAE,MAAM;AACrBC,QAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;AACAe,QAAAA,SAAS,CAAC,KAAD,CAAT;AACD,OANH;AAAA,8BAQE;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA,gCACE;AAAO,UAAA,SAAS,EAAC,8BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,MAAD;AACE,UAAA,WAAW,EAAC,sBADd;AAEE,UAAA,KAAK,EAAEb,WAAW,CAAC6D,IAAZ,CAAkBC,EAAD,IAAQA,EAAE,CAACjB,KAAH,KAAa3C,gBAAtC,CAFT;AAGE,UAAA,QAAQ,EAAG6D,CAAD,IAAO5D,mBAAmB,CAAC4D,CAAC,CAAClB,KAAH,CAHtC;AAIE,UAAA,OAAO,EAAE7C;AAJX;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,eAiBE;AAAM,QAAA,QAAQ,EAAEmC,MAAM,CAAC6B,YAAvB;AAAA,gCACE,QAAC,KAAD;AACE,UAAA,SAAS,EAAC,eADZ;AAEE,UAAA,SAAS,EAAC,MAFZ;AAGE,UAAA,WAAW,EAAC,eAHd;AAIE,UAAA,IAAI,EAAC,cAJP;AAKE,UAAA,IAAI,EAAC,cALP;AAME,UAAA,QAAQ,EAAE7B,MAAM,CAAC8B,YANnB;AAOE,UAAA,SAAS,EAAE9B,MAAM,CAACF,MAAP,CAAcxC;AAP3B;AAAA;AAAA;AAAA;AAAA,gBADF,EAUG0C,MAAM,CAAC+B,MAAP,CAAczE,YAAd,iBACC;AAAM,UAAA,SAAS,EAAC,sBAAhB;AAAA,oBACG0C,MAAM,CAAC+B,MAAP,CAAczE;AADjB;AAAA;AAAA;AAAA;AAAA,gBAXJ,eAeE,QAAC,QAAD;AACE,UAAA,SAAS,EAAC,eADZ;AAEE,UAAA,SAAS,EAAC,MAFZ;AAGE,UAAA,WAAW,EAAC,eAHd;AAIE,UAAA,IAAI,EAAC,cAJP;AAKE,UAAA,IAAI,EAAC,cALP;AAME,UAAA,QAAQ,EAAE0C,MAAM,CAAC8B,YANnB;AAOE,UAAA,SAAS,EAAE9B,MAAM,CAACF,MAAP,CAAcrC;AAP3B;AAAA;AAAA;AAAA;AAAA,gBAfF,EAwBGuC,MAAM,CAAC+B,MAAP,CAActE,YAAd,iBACC;AAAM,UAAA,SAAS,EAAC,sBAAhB;AAAA,oBACGuC,MAAM,CAAC+B,MAAP,CAActE;AADjB;AAAA;AAAA;AAAA;AAAA,gBAzBJ,eA6BE,QAAC,MAAD;AACE,UAAA,OAAO,EAAEoC,MADX;AAEE,UAAA,UAAU,EAAC,QAFb;AAGE,UAAA,WAAW,EAAC,SAHd;AAIE,UAAA,eAAe,EAAC,MAJlB;AAKE,UAAA,QAAQ,EAAE,EALZ;AAME,UAAA,SAAS,EAAC,MANZ;AAOE,UAAA,IAAI,EAAC;AAPP;AAAA;AAAA;AAAA;AAAA,gBA7BF;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAlFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8ID;AAED,MAAMmC,OAAO,GAAGjG,MAAM,CAACkG,GAAI;AAC3B;AACA,CAFA;AAGA,MAAMC,SAAS,GAAGnG,MAAM,CAACoG,EAAG;AAC5B;AACA;AACA;AACA,CAJA;AAKA,MAAMC,SAAS,GAAGrG,MAAM,CAACkG,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;AASA,MAAMI,IAAI,GAAGtG,MAAM,CAACkG,GAAI;AACxB;AACA;AACA;AACA;AACA,CALA","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Modal from \"../../components/Modal\";\r\nimport Input from \"../../components/Input\";\r\nimport TextArea from \"../../components/TextArea\";\r\nimport Button from \"../../components/Button\";\r\nimport { axiosGeneral } from \"../../helpers/global\";\r\nimport Select from \"react-select\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setLoading } from \"../../store/actionCreator\";\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { Edit, Delete } from \"@material-ui/icons\";\r\nimport Pagination from \"react-js-pagination\";\r\nimport { ChevronLeft, ChevronRight } from \"@material-ui/icons\";\r\nimport Search from \"../../components/Search\";\r\n\r\nconst FormSchema = Yup.object().shape({\r\n  kodeInstansi: Yup.string().required(\"* Kode Instansi tidak boleh kosong\"),\r\n  namaInstansi: Yup.string().required(\"* Nama Instansi tidak boleh kosong\"),\r\n});\r\n\r\nexport default function Direktorat() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [dataInstasi, setDataInstansi] = useState([]);\r\n  const [selectedInstansi, setSelectedInstansi] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const { addToast } = useToasts();\r\n  const accessToken = useSelector((state) => state.accessToken);\r\n  const [dataInstasiAll, setDataInstansiAll] = useState([]);\r\n  const [haveId, setHaveId] = useState();\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [getKodeInstansi, setKodeInstansi] = useState(\"\");\r\n  const [getNamaInstansi, setNamaInstansi] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (accessToken != null) {\r\n      GetInstansiAll();\r\n    }\r\n  }, []);\r\n\r\n  const GetInstansiById = async (id) => {\r\n    try {\r\n      const headers = {\r\n        Authorization: accessToken,\r\n      };\r\n      dispatch(setLoading(true));\r\n      const response = await axiosGeneral.get(`/resources/instansi/${id}`, {\r\n        headers,\r\n      });\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        setKodeInstansi(data.data.kode_instansi);\r\n        setNamaInstansi(data.data.nama_instansi);\r\n        setSelectedInstansi(data.data.parent_id);\r\n        dispatch(setLoading(false));\r\n      } else if (status === 500) {\r\n        addToast(\"Gagal Mengambil Data instansi\", { appearance: \"error\" });\r\n        dispatch(setLoading(false));\r\n      }\r\n    } catch (error) {\r\n      addToast(\"Gagal Mengambil Data instansi\", { appearance: \"error\" });\r\n      dispatch(setLoading(false));\r\n    }\r\n  };\r\n\r\n  const doSave = async (values) => {\r\n    try {\r\n      if (isEdit == true) {\r\n        const body = {\r\n          kode_instansi: formik.values.kodeInstansi,\r\n          nama_instansi: formik.values.namaInstansi,\r\n          parent_id: selectedInstansi,\r\n        };\r\n\r\n        const headers = {\r\n          Authorization: accessToken,\r\n        };\r\n        console.log(body);\r\n        dispatch(setLoading(true));\r\n        const response = await axiosGeneral.put(\r\n          `/resources/instansi/${haveId}`,\r\n          body,\r\n          {\r\n            headers,\r\n          }\r\n        );\r\n        const { status, data } = response;\r\n        if (status === 200) {\r\n          addToast(\"Berhasil ubah Instansi\", { appearance: \"success\" });\r\n          dispatch(setLoading(false));\r\n          DoNull();\r\n          setShowModal(false);\r\n          GetInstansiAll();\r\n        }\r\n      } else if (isEdit == false) {\r\n        const body = {\r\n          kode_instansi: formik.values.kodeInstansi,\r\n          nama_instansi: formik.values.namaInstansi,\r\n          parent_id: selectedInstansi,\r\n        };\r\n\r\n        const headers = {\r\n          Authorization: accessToken,\r\n        };\r\n\r\n        dispatch(setLoading(true));\r\n        const response = await axiosGeneral.post(`/resources/instansi`, body, {\r\n          headers,\r\n        });\r\n        const { status, data } = response;\r\n        if (status === 200) {\r\n          addToast(\"Berhasil tambah Instansi\", { appearance: \"success\" });\r\n          DoNull();\r\n          dispatch(setLoading(false));\r\n          setShowModal(false)\r\n          GetInstansiAll();\r\n        }\r\n      }\r\n      console.log(\"kode : \"+getKodeInstansi, \"nama : \"+getNamaInstansi)\r\n    } catch (error) {\r\n      dispatch(setLoading(false));\r\n      addToast(\"Gagal eksekusi\", { appearance: \"error\" });\r\n    }\r\n  };\r\n\r\n  const GetInstansiAll = async () => {\r\n    try {\r\n      const headers = {\r\n        Authorization: accessToken,\r\n      };\r\n\r\n      const response = await axiosGeneral.get(\"/resources/instansi\", {\r\n        headers,\r\n      });\r\n\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        const intansiArr = [];\r\n        const instansi = data.data;\r\n        for (const iterator of instansi) {\r\n          let val = {\r\n            value: iterator.id,\r\n            label: iterator.kode_instansi + \" - \" + iterator.nama_instansi,\r\n          };\r\n          intansiArr.push(val);\r\n        }\r\n        setDataInstansi(intansiArr);\r\n        setDataInstansiAll(data.data);\r\n        dispatch(setLoading(false));\r\n      } else if (status === 500) {\r\n        addToast(\"Gagal Mengambil Data Instansi\", { appearance: \"error\" });\r\n      }\r\n    } catch (error) {\r\n      addToast(error.response.data.message, { appearance: \"error\" });\r\n      dispatch(setLoading(false));\r\n    }\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      kodeInstansi: getKodeInstansi , \r\n      namaInstansi: getNamaInstansi , \r\n    },\r\n    validationSchema: FormSchema,\r\n    enableReinitialize: true,\r\n  });\r\n\r\n  const DoNull = () => {\r\n      setKodeInstansi(\"\"),\r\n      setNamaInstansi(\"\"),\r\n      setSelectedInstansi(0);\r\n  };\r\n\r\n  const doModalEdit = async (id) => {\r\n    try {\r\n      DoNull();\r\n      GetInstansiById(id);\r\n      setHaveId(id);\r\n      setShowModal(true);\r\n    } catch (error) {\r\n      addToast(\"Gagal tambah instansi\", { appearance: \"error\" });\r\n    }\r\n  };\r\n\r\n  const doDelete = async (id) => {\r\n    try {\r\n      const headers = {\r\n        Authorization: accessToken,\r\n      };\r\n      dispatch(setLoading(true));\r\n      const response = await axiosGeneral.delete(\r\n        `/resources/instansi/`+id ,\r\n        {\r\n          headers,\r\n        }\r\n      );\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        addToast(\"Berhasil hapus instansi\", { appearance: \"success\" });\r\n        dispatch(setLoading(false));\r\n        GetInstansiAll();\r\n      } else {\r\n        addToast(\"Gagal hapus instansi\", { appearance: \"warning\" });\r\n        dispatch(setLoading(false));\r\n      }\r\n    } catch (error) {\r\n      addToast(\"Gagal hapus instansi\", { appearance: \"error\" });\r\n      dispatch(setLoading(false));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"flex flex-row justify-between items-center pb-24\">\r\n        <MenuTitle>Master Instansi</MenuTitle>\r\n        <ButtonAdd\r\n          className=\"button\"\r\n          onClick={() => {\r\n            DoNull();\r\n            setShowModal(true);\r\n            setIsEdit(false);\r\n          }}\r\n        >\r\n          Tambah Instansi\r\n        </ButtonAdd>\r\n      </div>\r\n      <Search />\r\n      <Card>\r\n        <div className=\"grid grid-cols-12 gap-4 border-b-2 my-2 items-center py-2\">\r\n          <div className=\"text-sm font-bold text-center\">#</div>\r\n          <div className=\"text-sm font-bold col-span-4 text-left break-all\">\r\n            Induk Instansi\r\n          </div>\r\n          <div className=\"text-sm font-bold col-span-2 text-left break-all\">\r\n            Kode Instansi\r\n          </div>\r\n          <div className=\"text-sm font-bold col-span-4 text-left break-all\">\r\n            Nama Instansi\r\n          </div>\r\n          <div className=\"text-sm font-bold text-left break-all\">Action</div>\r\n        </div>\r\n        {dataInstasiAll.map((value, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"grid grid-cols-12 gap-4 border-b items-center py-2\"\r\n          >\r\n            <div className=\"text-sm text-center justify-center\">\r\n              {index + 1}\r\n            </div>\r\n            <div className=\"text-sm col-span-4 break-words text-left\">\r\n              {value.parent_instansi || \"-\"}\r\n            </div>\r\n            <div className=\"text-sm col-span-2 whitespace-normal text-left\">\r\n              {value.kode_instansi}\r\n            </div>\r\n            <div className=\"text-sm col-span-4 break-words text-left\">\r\n              {value.nama_instansi}\r\n            </div>\r\n            <div className=\"text-sm text-left\">\r\n              <Tooltip\r\n                onClick={() => {\r\n                  setIsEdit(true);\r\n                  doModalEdit(value.id);\r\n                }}\r\n                title=\"Edit\"\r\n              >\r\n                <Edit className=\"cursor-pointer mr-2\" size=\"24px\" />\r\n              </Tooltip>\r\n              <Tooltip\r\n                onClick={() => {if(window.confirm(`Yakin hapus ` +value.nama_instansi+` ?`)){doDelete(value.id)};}}\r\n                title=\"Hapus\"\r\n              >\r\n                <Delete className=\"cursor-pointer ml-2\" size=\"24px\" />\r\n              </Tooltip>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div className=\"w-full mt-8 flex flex-row justify-center items-center\">\r\n          <Pagination\r\n            activePage={15}\r\n            itemsCountPerPage={10}\r\n            totalItemsCount={450}\r\n            pageRangeDisplayed={5}\r\n            onChange={(pageNumber) => console.log(pageNumber)}\r\n            itemClass=\"bg-blue-100 py-2 px-4 mx-1 rounded font-bold\"\r\n            linkClass=\"text-gray-700 hover:no-underline hover:text-gray-700\"\r\n            hideFirstLastPages={true}\r\n            prevPageText={<ChevronLeft />}\r\n            nextPageText={<ChevronRight />}\r\n            activeClass=\"bg-blue-400\"\r\n            activeLinkClass=\"text-white\"\r\n          />\r\n        </div>\r\n      </Card>\r\n      <Modal\r\n        modalTitle=\"Tambah Instansi\"\r\n        show={showModal}\r\n        onClickBackdrop={() => {\r\n          setShowModal(!showModal);\r\n          setIsEdit(false);\r\n        }}\r\n      >\r\n        <div className=\"col-span-6 sm:col-span-3 mb-2\">\r\n          <label className=\"font-bold text-black text-sm\">Induk Instansi</label>\r\n          <Select\r\n            placeholder=\"Pilih induk instansi\"\r\n            value={dataInstasi.find((op) => op.value === selectedInstansi)}\r\n            onChange={(e) => setSelectedInstansi(e.value)}\r\n            options={dataInstasi}\r\n          />\r\n        </div>\r\n        <form onSubmit={formik.handleSubmit}>\r\n          <Input\r\n            labelText=\"Kode Instansi\"\r\n            className=\"my-2\"\r\n            placeholder=\"Kode Instansi\"\r\n            type=\"kodeInstansi\"\r\n            name=\"kodeInstansi\"\r\n            onChange={formik.handleChange}\r\n            valueData={formik.values.kodeInstansi}\r\n          />\r\n          {formik.errors.kodeInstansi && (\r\n            <span className=\"text-xs text-red-500\">\r\n              {formik.errors.kodeInstansi}\r\n            </span>\r\n          )}\r\n          <TextArea\r\n            labelText=\"Nama Instansi\"\r\n            className=\"my-2\"\r\n            placeholder=\"Nama Instansi\"\r\n            type=\"namaInstansi\"\r\n            name=\"namaInstansi\"\r\n            onChange={formik.handleChange}\r\n            valueData={formik.values.namaInstansi}\r\n          />\r\n          {formik.errors.namaInstansi && (\r\n            <span className=\"text-xs text-red-500\">\r\n              {formik.errors.namaInstansi}\r\n            </span>\r\n          )}\r\n          <Button\r\n            onClick={doSave}\r\n            buttonText=\"Simpan\"\r\n            buttonColor=\"#4361EE\"\r\n            buttonTextColor=\"#FFF\"\r\n            fontSize={14}\r\n            className=\"mt-4\"\r\n            type=\"submit\"\r\n          />\r\n        </form>\r\n      </Modal>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 23px 54px 0px 54px;\r\n`;\r\nconst MenuTitle = styled.h1`\r\n  font-size: 48px;\r\n  font-weight: bold;\r\n  color: #000;\r\n`;\r\nconst ButtonAdd = styled.div`\r\n  font-size: 14px;\r\n  background: #4361ee;\r\n  color: #fff;\r\n  padding: 10px 23px;\r\n  border-radius: 10px;\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n`;\r\nconst Card = styled.div`\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  box-shadow: 2px 2px 7px rgba(0, 0, 0, 0.25);\r\n  padding: 30px 46px 30px 46px;\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}