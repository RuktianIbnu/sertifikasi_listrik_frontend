{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport { Container, Row, Col, Form, Button, Image } from \"react-bootstrap\";\nimport React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { axiosGeneral } from \"../helpers/global\";\nimport Loading from \"../components/Loading\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setLoading } from \"../store/actionCreator\";\nimport Router from \"next/router\";\nconst FormSchema = Yup.object().shape({\n  email: Yup.string().email().required(\"* Email tidak boleh kosong\")\n});\nexport default function ForgotPassword() {\n  const {\n    addToast\n  } = useToasts();\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {}, []);\n\n  const doSendEmailVerify = async values => {\n    try {\n      if (!values) return;\n      const body = {\n        email: formik.values.email\n      };\n      dispatch(setLoading(true));\n      const response = await axiosGeneral.post(`/forget-password`, body);\n      const {\n        status,\n        data\n      } = response;\n      console.log(status, data.data);\n\n      if (status === 200) {\n        addToast(\"Silahkan cek email anda\", {\n          appearance: \"success\"\n        });\n        Router.replace(\"/\");\n        dispatch(setLoading(false));\n      } else if (status === 500) {\n        addToast(\"Terjadi Kesalahan\", {\n          appearance: \"warning\"\n        });\n      }\n    } catch (error) {\n      dispatch(setLoading(false));\n      addToast(\"Gagal mengirim email\", {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"\"\n    },\n    validationSchema: FormSchema,\n    enableReinitialize: false,\n    onSubmit: values => doSendEmailVerify(values)\n  });\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Lupa Password - E-Survey\"\n      })\n    }), /*#__PURE__*/_jsx(Container, {\n      fluid: true,\n      children: /*#__PURE__*/_jsxs(Row, {\n        children: [/*#__PURE__*/_jsx(Col, {\n          className: \"col-left\",\n          xl: \"3\",\n          lg: \"3\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"on-center\",\n            children: /*#__PURE__*/_jsxs(\"form\", {\n              onSubmit: formik.handleSubmit,\n              method: \"POST\",\n              children: [/*#__PURE__*/_jsx(\"h1\", {\n                children: \"E-Survey\"\n              }), /*#__PURE__*/_jsx(\"h3\", {\n                children: \"Lupa Password\"\n              }), /*#__PURE__*/_jsxs(Form.Group, {\n                className: \"mt-5\",\n                children: [/*#__PURE__*/_jsx(Form.Label, {\n                  children: \"Email\"\n                }), /*#__PURE__*/_jsx(Form.Control, {\n                  className: \"custom-input\",\n                  type: \"email\",\n                  autoComplete: \"false\",\n                  name: \"email\",\n                  onChange: formik.handleChange,\n                  value: formik.values.email\n                }), formik.errors.email && /*#__PURE__*/_jsx(\"span\", {\n                  className: \"text-xs text-red-500\",\n                  children: formik.errors.email\n                })]\n              }), /*#__PURE__*/_jsx(Button, {\n                variant: \"warning\",\n                type: \"submit\",\n                className: \"mt-5\",\n                block: true,\n                children: \"Kirim\"\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"/\",\n                children: /*#__PURE__*/_jsx(Button, {\n                  variant: \"link\",\n                  block: true,\n                  children: \"Back to Login\"\n                })\n              })]\n            })\n          })\n        }), /*#__PURE__*/_jsx(Col, {\n          className: \"col-right\",\n          xl: \"9\",\n          lg: \"9\",\n          children: /*#__PURE__*/_jsx(Image, {\n            src: \"https://www.imigrasi.go.id/uploads/logo/10-52-13-logo-imigrasi_-_Copy.png\",\n            alt: \"Logo Imigrasi\",\n            className: \"imigrasi-logo\",\n            fluid: true\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"style\", {\n      children: `\n        .imigrasi-logo {\n          width:90%;\n          object-fit: contain;\n          margin-top:20vh;\n          margin-left: auto;\n          margin-right: auto;\n          display:block;\n        }\n        .on-center {\n          margin-top:60%;\n        }\n        .col-right {\n          background: #03045E;\n          height: 100vh;\n        }\n        .col-left {\n          background: #FDFDFD;\n          height: 100vh;\n          padding-left: 36px;\n          padding-right: 36px;\n        }\n        h1 {\n          font-family: \"Poppins\", sans-serif;\n          font-weight: bold;\n          font-size: 3.75rem;\n          color: #323232;\n          text-align:center;\n          margin-bottom: 75px;\n        }\n        h3 {\n          font-weight: 600;\n        }\n        .btn-warning {\n          color: #2B2D42 !important;\n          font-weight: bold !important;\n          border-radius: 10px;\n          text-transform: uppercase;\n          height:40px;\n          font-size: 14px;\n        }\n        .btn-link {\n          text-align: center;\n          font-weight: 600;\n          color: #889ADA;\n        }\n        .btn-link:hover, .btn-link:focus {\n          text-decoration: none;\n          color: #889ADA;\n          box-shadow: none;\n        }\n        .custom-input {\n          background: #f5f5f5;\n          border: 1px solid #a8dadc !important;\n          border-radius: 10px !important;\n          font-size: 14px !important;\n          color: #445455 !important;\n          height:40px;\n          padding-left:17px;\n        }\n        .custom-input:focus {\n          background: #f5f5f5;\n        }\n      `\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}