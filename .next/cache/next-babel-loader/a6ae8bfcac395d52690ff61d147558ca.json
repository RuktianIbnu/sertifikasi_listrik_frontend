{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\project\\\\e-survey-dashboard\\\\pages\\\\master\\\\pertanyaan.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Edit, Delete, Visibility, CheckBox, RadioButtonChecked, Publish, Subject, Add, Clear } from \"@material-ui/icons\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { axiosGeneral } from \"../../helpers/global\";\nimport { useToasts } from \"react-toast-notifications\";\nimport ReactLoading from \"react-loading\";\nimport { setLoading } from \"../../store/actionCreator\";\nconst Wrapper = styled.div`\n  padding: 23px 54px 0px 54px;\n`;\nconst MenuTitle = styled.h1`\n  font-size: 48px;\n  font-weight: bold;\n  color: #000;\n`;\nconst ButtonAdd = styled.div`\n  font-size: 14px;\n  background: #4361ee;\n  color: #fff;\n  padding: 10px 23px;\n  border-radius: 10px;\n  font-weight: 700;\n  cursor: pointer;\n`;\nconst Card = styled.div`\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 2px 2px 7px rgba(0, 0, 0, 0.25);\n  padding: 30px 46px 30px 46px;\n`;\nexport default function Pertanyaan() {\n  const accessToken = useSelector(state => state.accessToken);\n  const {\n    0: listPertanyaan,\n    1: setListPertanyaan\n  } = useState([]);\n  const {\n    0: showList,\n    1: setShowList\n  } = useState(true);\n  const {\n    0: showAdd,\n    1: setShowAdd\n  } = useState(false);\n  const {\n    0: showDetail,\n    1: setShowDetail\n  } = useState(false);\n  const {\n    0: selectedID,\n    1: setSelectedID\n  } = useState();\n  const {\n    addToast\n  } = useToasts();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    getPertanyaan();\n  }, [showAdd, showDetail]);\n\n  const getPertanyaan = async () => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      setListPertanyaan([]);\n      dispatch(setLoading(true));\n      const response = await axiosGeneral.get(\"/resources/poin-kuesioner\", {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        setListPertanyaan(data.data);\n        dispatch(setLoading(false));\n      }\n    } catch (error) {\n      addToast(\"get_pertanyaan \" + error.response.data.message, {\n        appearance: \"error\"\n      });\n      dispatch(setLoading(false));\n    }\n  };\n\n  const deletePertanyaan = async ID => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      const response = await axiosGeneral.delete(`/resources/poin-kuesioner/${ID}`, {\n        headers\n      });\n      const {\n        status\n      } = response;\n\n      if (status === 200) {\n        getPertanyaan();\n        addToast(\"Berhasil hapus\", {\n          appearance: \"success\"\n        });\n      }\n    } catch (error) {\n      addToast(error.response.data.message, {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row justify-between items-center pb-24\",\n      children: [/*#__PURE__*/_jsxDEV(MenuTitle, {\n        children: \"Master Pertanyaan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonAdd, {\n        hidden: showAdd,\n        onClick: () => {\n          setShowList(false);\n          setShowAdd(true);\n        },\n        className: \"cursor-pointer\",\n        children: \"Tambah Pertanyaan baru\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonAdd, {\n        hidden: showList,\n        onClick: () => {\n          setShowList(true);\n          setShowAdd(false);\n        },\n        className: \"cursor-pointer\",\n        children: \"Kembali\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      hidden: showAdd,\n      children: [showList && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row border-b-2 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-bold w-10\",\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-bold w-4/5\",\n            children: \"Pertanyaan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-bold w-32 text-center\",\n            children: \"Bobot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-bold text-center\",\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), listPertanyaan.map((value, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row border-b py-2 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm w-10\",\n            children: index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm w-4/5\",\n            children: value.pertanyaan\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm w-32 text-center\",\n            children: [value.bobot, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row w-32\",\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              onClick: () => deletePertanyaan(value.id),\n              title: \"Hapus\",\n              children: /*#__PURE__*/_jsxDEV(Delete, {\n                className: \"cursor-pointer ml-4\",\n                size: \"24px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              onClick: () => {\n                setSelectedID(value.id);\n                setShowList(false);\n                setShowDetail(true);\n              },\n              title: \"Detail\",\n              children: /*#__PURE__*/_jsxDEV(Visibility, {\n                className: \"cursor-pointer ml-4\",\n                size: \"24px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true), showDetail && /*#__PURE__*/_jsxDEV(DetailPertanyaan, {\n        id: selectedID,\n        setShowDetail: val => {\n          setShowDetail(val);\n          setShowList(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), showAdd && /*#__PURE__*/_jsxDEV(TambahPertanyaan, {\n      setShowAdd: val => {\n        setShowAdd(val);\n        setShowList(true);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n\nconst DetailPertanyaan = ({\n  setShowDetail,\n  id\n}) => {\n  const accessToken = useSelector(state => state.accessToken);\n  const {\n    0: tipePoin,\n    1: setTipePoin\n  } = useState([]);\n  const {\n    0: tipePoinItem,\n    1: setTipePoinItem\n  } = useState([]);\n  const {\n    0: pertanyaan,\n    1: setPertanyaan\n  } = useState(\"\");\n  const {\n    0: bobot,\n    1: setBobot\n  } = useState(\"\");\n  const {\n    0: tipePoinID,\n    1: setTipePoinID\n  } = useState(\"NULL\");\n  const {\n    addToast\n  } = useToasts();\n  useEffect(() => {\n    getTipePoin();\n    getPertanyaanByID();\n  }, []);\n\n  const getPertanyaanByID = async () => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      const response = await axiosGeneral.get(`/resources/poin-kuesioner/${id}`, {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        console.log(data.data.item);\n        setTipePoinItem(data.data.item);\n        setTipePoinID(data.data.id_tipe_poin);\n        setPertanyaan(data.data.pertanyaan);\n        setBobot(data.data.bobot);\n      }\n    } catch (error) {\n      addToast(\"get_pertanyaanByID \" + error.response.data.message, {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  const getTipePoin = async () => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      setTipePoin([]);\n      const response = await axiosGeneral.get(\"/resources/tipe-poin\", {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        setTipePoin(data.data);\n      }\n    } catch (error) {\n      addToast(\"getTipePoin \" + error.response.data.message, {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  const getTipePoinByID = async id => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      setTipePoinItem([]);\n      const response = await axiosGeneral.get(`/resources/tipe-poin/${id}`, {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        const tipePoinItem = data.data.item;\n\n        for (const item of tipePoinItem) {\n          item.label = \"\";\n          item.deskripsi = \"\";\n          item.bobot = 0;\n        }\n\n        setTipePoinItem(tipePoinItem);\n      }\n    } catch (error) {\n      addToast(\"getTipePoinByID \" + error.response.data.message, {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  const updatePertanyaan = async () => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      const body = {\n        pertanyaan,\n        bobot: parseFloat(bobot) || 0,\n        id_tipe_poin: parseInt(tipePoinID),\n        item: []\n      };\n\n      for (const item of tipePoinItem) {\n        const tempItem = {\n          id_tipe_poin_item: item.id,\n          label: item.label,\n          deskripsi: item.deskripsi,\n          bobot: parseInt(item.bobot) || 0\n        };\n        body.item.push(tempItem);\n      } // console.log(body);\n\n\n      const response = await axiosGeneral.put(`/resources/poin-kuesioner/${id}`, body, {\n        headers\n      });\n      const {\n        status\n      } = response;\n\n      if (status === 200) {\n        addToast(\"Berhasil disimpan\", {\n          appearance: \"success\"\n        });\n        setShowDetail(false);\n      }\n    } catch (error) {\n      addToast(error.response.data.message, {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold mb-4\",\n        children: \"Tambah Pertanyaan Baru\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-flow-col col-auto gap-6 mb-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-bold pb-0\",\n            children: \"Pertanyaan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: pertanyaan,\n            onChange: e => setPertanyaan(e.target.value),\n            className: \"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-bold pb-0\",\n            children: \"Bobot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: bobot,\n            onChange: e => setBobot(e.target.value),\n            className: \"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-bold pb-0\",\n            children: \"Tipe Poin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: tipePoinID,\n            onChange: e => {\n              getTipePoinByID(e.target.value);\n              setTipePoinID(e.target.value);\n            },\n            className: \"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"NULL\",\n              disabled: true,\n              children: \"Pilih Tipe Poin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), tipePoin.map((value, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: value.id,\n              children: value.kode\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-flow-col grid-cols-4 gap-4 border-b-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-bold\",\n          children: \"Label\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-bold\",\n          children: \"Deskripsi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-bold\",\n          children: \"Bobot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-bold justify-items-center items-center flex justify-center\",\n          children: \"Tipe Kontrol\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), tipePoinItem.map((value, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-flow-col grid-cols-4 gap-4 py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: value.label,\n          onChange: e => {\n            const {\n              value\n            } = e.target;\n            let tempArr = [...tipePoinItem];\n            tempArr[index].label = value;\n            setTipePoinItem(tempArr);\n          },\n          className: \" w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: value.deskripsi,\n          onChange: e => {\n            const {\n              value\n            } = e.target;\n            let tempArr = [...tipePoinItem];\n            tempArr[index].deskripsi = value;\n            setTipePoinItem(tempArr);\n          },\n          className: \" w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: value.bobot,\n          onChange: e => {\n            const {\n              value\n            } = e.target;\n            let tempArr = [...tipePoinItem];\n            tempArr[index].bobot = parseInt(value);\n            setTipePoinItem(tempArr);\n          },\n          pattern: \"[0-9]\",\n          className: \" w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"justify-items-center items-center flex justify-center\",\n          children: [value.control_type === \"radio_button\" && /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Pilihan\",\n            children: /*#__PURE__*/_jsxDEV(RadioButtonChecked, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 17\n          }, this), value.control_type === \"checkbox\" && /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Pilihan ganda\",\n            children: /*#__PURE__*/_jsxDEV(CheckBox, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 17\n          }, this), value.control_type === \"upload_file\" && /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Upload file\",\n            children: /*#__PURE__*/_jsxDEV(Publish, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 17\n          }, this), value.control_type === \"freetext\" && /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Freetext\",\n            children: /*#__PURE__*/_jsxDEV(Subject, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-10 mt-16\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: updatePertanyaan,\n          disabled: tipePoinItem.length === 0,\n          className: `py-2 bg-blue-400 text-white rounded text-center ${tipePoinItem.length === 0 ? \"cursor-not-allowed\" : \"cursor-pointer\"}`,\n          children: \"Simpan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowDetail(false),\n          className: \"py-2 bg-red-400 ml-3 text-white rounded text-center\",\n          children: \"Kembali\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\nconst TambahPertanyaan = ({\n  setShowAdd\n}) => {\n  const accessToken = useSelector(state => state.accessToken);\n  const {\n    0: questions,\n    1: setQuestions\n  } = useState([]);\n  const {\n    0: questionTitle,\n    1: setQuestionTitle\n  } = useState(\"\");\n  const {\n    0: questionDescription,\n    1: setQuestionDescription\n  } = useState(\"\");\n  const {\n    0: questionScore,\n    1: setQuestionScore\n  } = useState();\n  const {\n    0: questionType,\n    1: setQuestionType\n  } = useState([]);\n  const {\n    0: tipePoinItem,\n    1: setTipePoinItem\n  } = useState([]);\n  const {\n    addToast\n  } = useToasts();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    fetchTipePoin();\n  }, []);\n\n  const fetchTipePoin = async () => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      setQuestionType([]);\n      dispatch(setLoading(true));\n      const response = await axiosGeneral.get(\"/resources/tipe-poin\", {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        setQuestionType(data.data);\n        dispatch(setLoading(false));\n      }\n    } catch (error) {\n      addToast(\"fetchTipePoin \" + error.response.data.message, {\n        appearance: \"error\"\n      });\n      dispatch(setLoading(false));\n    }\n  };\n\n  const fetchQuestionItemsByID = async index => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      dispatch(setLoading(true));\n      let newArr = [...questions];\n      newArr[index].item = [];\n      const id = newArr[index].id_tipe_poin;\n      const response = await axiosGeneral.get(`/resources/tipe-poin/${id}`, {\n        headers\n      });\n      const {\n        status,\n        data\n      } = response;\n\n      if (status === 200) {\n        const questionItems = data.data.item;\n\n        for (const item of questionItems) {\n          item.label = \"\";\n          item.deskripsi = \"\";\n          item.bobot = 0;\n        }\n\n        newArr[index].item = questionItems;\n        setQuestions(newArr);\n        dispatch(setLoading(false));\n      }\n    } catch (error) {\n      addToast(error.response.data.message, {\n        appearance: \"error\"\n      });\n      dispatch(setLoading(false));\n    }\n  };\n\n  const createPertanyaan = async () => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      const body = {\n        pertanyaan,\n        bobot: parseFloat(bobot) || 0,\n        id_tipe_poin: parseInt(tipePoinID),\n        item: []\n      };\n\n      for (const item of tipePoinItem) {\n        const tempItem = {\n          id_tipe_poin_item: item.id,\n          label: item.label,\n          deskripsi: item.deskripsi,\n          bobot: parseInt(item.bobot) || 0\n        };\n        body.item.push(tempItem);\n      }\n\n      dispatch(setLoading(true));\n      const response = await axiosGeneral.post(\"/resources/poin-kuesioner\", body, {\n        headers\n      });\n      const {\n        status\n      } = response;\n\n      if (status === 200) {\n        addToast(\"Berhasil disimpan\", {\n          appearance: \"success\"\n        });\n        dispatch(setLoading(false));\n        setShowAdd(false);\n      }\n    } catch (error) {\n      addToast(error.response.data.message, {\n        appearance: \"error\"\n      });\n      dispatch(setLoading(false));\n    }\n  };\n\n  const addNewQuestion = () => {\n    const body = {\n      pertanyaan: \"\",\n      bobot: 0,\n      id_tipe_poin: 0,\n      item: []\n    };\n    let newQuestion = [...questions];\n    newQuestion.push(body);\n    setQuestions(newQuestion);\n  };\n\n  const removeQuestion = index => {\n    let questionsArr = [...questions];\n    questionsArr.splice(index, 1);\n    setQuestions(questionsArr);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold mb-4\",\n        children: \"Tambah Pertanyaan Baru\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow rounded-xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row gap-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4/5\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-bold pb-0\",\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: questionTitle,\n              onChange: e => setQuestionTitle(e.target.value),\n              className: \"w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/5\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-bold pb-0\",\n              children: \"Bobot Keseluruhan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: questionScore,\n              maxLength: 3,\n              max: 100,\n              onChange: e => setQuestionScore(e.target.value.replace(/[^1-9.]/g, \"\").replace(/(\\..*)\\./g, \"$1\")),\n              className: \"w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-bold pb-0\",\n            children: \"Deskripsi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: questionDescription,\n            onChange: e => setQuestionDescription(e.target.value),\n            className: \"w-full text-sm py-3 px-3 bg-gray-200 rounded focus:outline-none h-28 resize-none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this), questions.map((question, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow rounded-xl p-6 my-4 relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => removeQuestion(index),\n          className: \"absolute -right-3 -top-3 bg-red-400 cursor-pointer rounded-full p-2\",\n          children: /*#__PURE__*/_jsxDEV(Clear, {\n            htmlColor: \"#FFF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-flow-col col-auto gap-6 mb-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-bold pb-0\",\n              children: \"Pertanyaan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: question.pertanyaan,\n              onChange: e => {\n                const {\n                  value\n                } = e.target;\n                let newArr = [...questions];\n                newArr[index].pertanyaan = value;\n                setQuestions(newArr);\n              },\n              className: \"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-bold pb-0\",\n              children: \"Bobot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: question.bobot,\n              onChange: e => {\n                const {\n                  value\n                } = e.target;\n                let newArr = [...questions];\n                newArr[index].bobot = value.replace(/[^0-9.]/g, \"\").replace(/(\\..*)\\./g, \"$1\");\n                setQuestions(newArr);\n              },\n              className: \"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-5xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-bold pb-0\",\n              children: \"Tipe Poin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              defaultValue: \"NULL\",\n              onChange: e => {\n                const {\n                  value\n                } = e.target;\n                let newArr = [...questions];\n                newArr[index].id_tipe_poin = value;\n                setQuestions(newArr);\n                fetchQuestionItemsByID(index);\n              },\n              className: \"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NULL\",\n                disabled: true,\n                children: \"Pilih Tipe Poin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 19\n              }, this), questionType.map((value, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: value.id,\n                children: [\"(\", value.kode, \") \", value.deskripsi]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid auto-cols-auto grid-flow-col gap-4 border-b-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-bold\",\n            children: \"Label\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-bold col-span-3\",\n            children: \"Deskripsi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-bold\",\n            children: \"Bobot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-bold justify-items-center items-center flex justify-center\",\n            children: \"Tipe Kontrol\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 13\n        }, this), question.item.map((value, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid auto-cols-auto grid-flow-col gap-4 py-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: value.label,\n            onChange: e => {\n              let tempArr = [...question.item];\n              tempArr[index].label = e.target.value;\n              let newArr = [...questions];\n              newArr.item = tempArr;\n              setQuestions(newArr);\n            },\n            className: \"w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: value.deskripsi,\n            onChange: e => {\n              let tempArr = [...question.item];\n              let newArr = [...questions];\n              tempArr[index].deskripsi = e.target.value;\n              newArr.item = tempArr;\n              setQuestions(newArr);\n            },\n            className: \"w-full col-span-3 text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: value.bobot,\n            onChange: e => {\n              let tempArr = [...question.item];\n              let newArr = [...questions];\n              tempArr[index].bobot = e.target.value.replace(/[^1-9.]/g, \"\").replace(/(\\..*)\\./g, \"$1\");\n              newArr.item = tempArr;\n              setQuestions(newArr);\n            },\n            pattern: \"[0-9]{1,5}\",\n            type: \"tel\",\n            maxLength: \"3\",\n            max: \"100\",\n            min: \"1\",\n            className: \" w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"justify-items-center items-center flex justify-center\",\n            children: [value.control_type === \"radio_button\" && /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Pilihan\",\n              children: /*#__PURE__*/_jsxDEV(RadioButtonChecked, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 21\n            }, this), value.control_type === \"checkbox\" && /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Pilihan ganda\",\n              children: /*#__PURE__*/_jsxDEV(CheckBox, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 21\n            }, this), value.control_type === \"upload_file\" && /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Upload file\",\n              children: /*#__PURE__*/_jsxDEV(Publish, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 21\n            }, this), value.control_type === \"freetext\" && /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Freetext\",\n              children: /*#__PURE__*/_jsxDEV(Subject, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 15\n        }, this))]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addNewQuestion,\n        className: \"bg-gray-100 font-bold text-gray-700 border-dashed border-2 hover:bg-gray-200 cursor-pointer focus:outline-none rounded py-2 my-4 w-full block\",\n        children: \"Tambah Item Pertanyaan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-10 mt-16\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => console.log(questions) // disabled={tipePoinItem.length === 0}\n          ,\n          className: `py-2 bg-blue-400 mr-3 text-white rounded text-center ${tipePoinItem.length === 0 ? \"cursor-not-allowed\" : \"cursor-pointer\"}`,\n          children: \"Simpan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};","map":{"version":3,"sources":["C:/project/e-survey-dashboard/pages/master/pertanyaan.js"],"names":["React","useState","useEffect","styled","Edit","Delete","Visibility","CheckBox","RadioButtonChecked","Publish","Subject","Add","Clear","Tooltip","useDispatch","useSelector","axiosGeneral","useToasts","ReactLoading","setLoading","Wrapper","div","MenuTitle","h1","ButtonAdd","Card","Pertanyaan","accessToken","state","listPertanyaan","setListPertanyaan","showList","setShowList","showAdd","setShowAdd","showDetail","setShowDetail","selectedID","setSelectedID","addToast","dispatch","getPertanyaan","headers","Authorization","response","get","status","data","error","message","appearance","deletePertanyaan","ID","delete","map","value","index","pertanyaan","bobot","id","val","DetailPertanyaan","tipePoin","setTipePoin","tipePoinItem","setTipePoinItem","setPertanyaan","setBobot","tipePoinID","setTipePoinID","getTipePoin","getPertanyaanByID","console","log","item","id_tipe_poin","getTipePoinByID","label","deskripsi","updatePertanyaan","body","parseFloat","parseInt","tempItem","id_tipe_poin_item","push","put","e","target","kode","tempArr","control_type","length","TambahPertanyaan","questions","setQuestions","questionTitle","setQuestionTitle","questionDescription","setQuestionDescription","questionScore","setQuestionScore","questionType","setQuestionType","fetchTipePoin","fetchQuestionItemsByID","newArr","questionItems","createPertanyaan","post","addNewQuestion","newQuestion","removeQuestion","questionsArr","splice","replace","question"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Edit,\r\n  Delete,\r\n  Visibility,\r\n  CheckBox,\r\n  RadioButtonChecked,\r\n  Publish,\r\n  Subject,\r\n  Add,\r\n  Clear,\r\n} from \"@material-ui/icons\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { axiosGeneral } from \"../../helpers/global\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport ReactLoading from \"react-loading\";\r\nimport { setLoading } from \"../../store/actionCreator\";\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 23px 54px 0px 54px;\r\n`;\r\nconst MenuTitle = styled.h1`\r\n  font-size: 48px;\r\n  font-weight: bold;\r\n  color: #000;\r\n`;\r\nconst ButtonAdd = styled.div`\r\n  font-size: 14px;\r\n  background: #4361ee;\r\n  color: #fff;\r\n  padding: 10px 23px;\r\n  border-radius: 10px;\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n`;\r\nconst Card = styled.div`\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  box-shadow: 2px 2px 7px rgba(0, 0, 0, 0.25);\r\n  padding: 30px 46px 30px 46px;\r\n`;\r\n\r\nexport default function Pertanyaan() {\r\n  const accessToken = useSelector((state) => state.accessToken);\r\n  const [listPertanyaan, setListPertanyaan] = useState([]);\r\n  const [showList, setShowList] = useState(true);\r\n  const [showAdd, setShowAdd] = useState(false);\r\n  const [showDetail, setShowDetail] = useState(false);\r\n  const [selectedID, setSelectedID] = useState();\r\n  const { addToast } = useToasts();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    getPertanyaan();\r\n  }, [showAdd, showDetail]);\r\n\r\n  const getPertanyaan = async () => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      setListPertanyaan([]);\r\n      dispatch(setLoading(true));\r\n      const response = await axiosGeneral.get(\"/resources/poin-kuesioner\", {\r\n        headers,\r\n      });\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        setListPertanyaan(data.data);\r\n        dispatch(setLoading(false));\r\n      }\r\n    } catch (error) {\r\n      addToast(\"get_pertanyaan \"+error.response.data.message, { appearance: \"error\" });\r\n      dispatch(setLoading(false));\r\n    }\r\n  };\r\n  const deletePertanyaan = async (ID) => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      const response = await axiosGeneral.delete(\r\n        `/resources/poin-kuesioner/${ID}`,\r\n        { headers }\r\n      );\r\n      const { status } = response;\r\n      if (status === 200) {\r\n        getPertanyaan();\r\n        addToast(\"Berhasil hapus\", { appearance: \"success\" });\r\n      }\r\n    } catch (error) {\r\n      addToast(error.response.data.message, { appearance: \"error\" });\r\n    }\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"flex flex-row justify-between items-center pb-24\">\r\n        <MenuTitle>Master Pertanyaan</MenuTitle>\r\n        <ButtonAdd\r\n          hidden={showAdd}\r\n          onClick={() => {\r\n            setShowList(false);\r\n            setShowAdd(true);\r\n          }}\r\n          className=\"cursor-pointer\"\r\n        >\r\n          Tambah Pertanyaan baru\r\n        </ButtonAdd>\r\n        <ButtonAdd\r\n          hidden={showList}\r\n          onClick={() => {\r\n            setShowList(true);\r\n            setShowAdd(false);\r\n          }}\r\n          className=\"cursor-pointer\"\r\n        >\r\n          Kembali\r\n        </ButtonAdd>\r\n      </div>\r\n      <Card hidden={showAdd}>\r\n        {showList && (\r\n          <>\r\n            <div className=\"flex flex-row border-b-2 mb-4\">\r\n              <p className=\"text-sm font-bold w-10\">#</p>\r\n              <p className=\"text-sm font-bold w-4/5\">Pertanyaan</p>\r\n              <p className=\"text-sm font-bold w-32 text-center\">Bobot</p>\r\n              <p className=\"text-sm font-bold text-center\">Action</p>\r\n            </div>\r\n            {listPertanyaan.map((value, index) => (\r\n              <div\r\n                key={index}\r\n                className=\"flex flex-row border-b py-2 items-center\"\r\n              >\r\n                <p className=\"text-sm w-10\">{index + 1}</p>\r\n                <p className=\"text-sm w-4/5\">{value.pertanyaan}</p>\r\n                <p className=\"text-sm w-32 text-center\">{value.bobot}%</p>\r\n                <div className=\"flex flex-row w-32\">\r\n                  {/* <Tooltip title=\"Edit\">\r\n                    <Edit className=\"cursor-pointer ml-4\" size=\"24px\" />\r\n                  </Tooltip> */}\r\n                  <Tooltip\r\n                    onClick={() => deletePertanyaan(value.id)}\r\n                    title=\"Hapus\"\r\n                  >\r\n                    <Delete className=\"cursor-pointer ml-4\" size=\"24px\" />\r\n                  </Tooltip>\r\n                  <Tooltip\r\n                    onClick={() => {\r\n                      setSelectedID(value.id);\r\n                      setShowList(false);\r\n                      setShowDetail(true);\r\n                    }}\r\n                    title=\"Detail\"\r\n                  >\r\n                    <Visibility className=\"cursor-pointer ml-4\" size=\"24px\" />\r\n                  </Tooltip>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </>\r\n        )}\r\n        {showDetail && (\r\n          <DetailPertanyaan\r\n            id={selectedID}\r\n            setShowDetail={(val) => {\r\n              setShowDetail(val);\r\n              setShowList(true);\r\n            }}\r\n          />\r\n        )}\r\n      </Card>\r\n      {showAdd && (\r\n        <TambahPertanyaan\r\n          setShowAdd={(val) => {\r\n            setShowAdd(val);\r\n            setShowList(true);\r\n          }}\r\n        />\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\nconst DetailPertanyaan = ({ setShowDetail, id }) => {\r\n  const accessToken = useSelector((state) => state.accessToken);\r\n  const [tipePoin, setTipePoin] = useState([]);\r\n  const [tipePoinItem, setTipePoinItem] = useState([]);\r\n  const [pertanyaan, setPertanyaan] = useState(\"\");\r\n  const [bobot, setBobot] = useState(\"\");\r\n  const [tipePoinID, setTipePoinID] = useState(\"NULL\");\r\n  const { addToast } = useToasts();\r\n\r\n  useEffect(() => {\r\n    getTipePoin();\r\n    getPertanyaanByID();\r\n  }, []);\r\n\r\n  const getPertanyaanByID = async () => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      const response = await axiosGeneral.get(\r\n        `/resources/poin-kuesioner/${id}`,\r\n        { headers }\r\n      );\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        console.log(data.data.item);\r\n        setTipePoinItem(data.data.item);\r\n        setTipePoinID(data.data.id_tipe_poin);\r\n        setPertanyaan(data.data.pertanyaan);\r\n        setBobot(data.data.bobot);\r\n      }\r\n    } catch (error) {\r\n      addToast(\"get_pertanyaanByID \"+error.response.data.message, { appearance: \"error\" });\r\n    }\r\n  };\r\n\r\n  const getTipePoin = async () => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      setTipePoin([]);\r\n      const response = await axiosGeneral.get(\"/resources/tipe-poin\", {\r\n        headers,\r\n      });\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        setTipePoin(data.data);\r\n      }\r\n    } catch (error) {\r\n      addToast(\"getTipePoin \"+error.response.data.message, { appearance: \"error\" });\r\n    }\r\n  };\r\n  const getTipePoinByID = async (id) => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      setTipePoinItem([]);\r\n      const response = await axiosGeneral.get(`/resources/tipe-poin/${id}`, {\r\n        headers,\r\n      });\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        const tipePoinItem = data.data.item;\r\n        for (const item of tipePoinItem) {\r\n          item.label = \"\";\r\n          item.deskripsi = \"\";\r\n          item.bobot = 0;\r\n        }\r\n        setTipePoinItem(tipePoinItem);\r\n      }\r\n    } catch (error) {\r\n      addToast(\"getTipePoinByID \"+error.response.data.message, { appearance: \"error\" });\r\n    }\r\n  };\r\n\r\n  const updatePertanyaan = async () => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      const body = {\r\n        pertanyaan,\r\n        bobot: parseFloat(bobot) || 0,\r\n        id_tipe_poin: parseInt(tipePoinID),\r\n        item: [],\r\n      };\r\n      for (const item of tipePoinItem) {\r\n        const tempItem = {\r\n          id_tipe_poin_item: item.id,\r\n          label: item.label,\r\n          deskripsi: item.deskripsi,\r\n          bobot: parseInt(item.bobot) || 0,\r\n        };\r\n        body.item.push(tempItem);\r\n      }\r\n      // console.log(body);\r\n      const response = await axiosGeneral.put(\r\n        `/resources/poin-kuesioner/${id}`,\r\n        body,\r\n        { headers }\r\n      );\r\n      const { status } = response;\r\n      if (status === 200) {\r\n        addToast(\"Berhasil disimpan\", { appearance: \"success\" });\r\n        setShowDetail(false);\r\n      }\r\n    } catch (error) {\r\n      addToast(error.response.data.message, { appearance: \"error\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <h2 className=\"text-lg font-bold mb-4\">Tambah Pertanyaan Baru</h2>\r\n        <div className=\"grid grid-flow-col col-auto gap-6 mb-10\">\r\n          <div className=\"col-span-3\">\r\n            <label className=\"text-sm font-bold pb-0\">Pertanyaan</label>\r\n            <input\r\n              value={pertanyaan}\r\n              onChange={(e) => setPertanyaan(e.target.value)}\r\n              className=\"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-sm font-bold pb-0\">Bobot</label>\r\n            <input\r\n              value={bobot}\r\n              onChange={(e) => setBobot(e.target.value)}\r\n              className=\"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-sm font-bold pb-0\">Tipe Poin</label>\r\n            <select\r\n              value={tipePoinID}\r\n              onChange={(e) => {\r\n                getTipePoinByID(e.target.value);\r\n                setTipePoinID(e.target.value);\r\n              }}\r\n              className=\"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n            >\r\n              <option value=\"NULL\" disabled>\r\n                Pilih Tipe Poin\r\n              </option>\r\n              {tipePoin.map((value, index) => (\r\n                <option key={index} value={value.id}>\r\n                  {value.kode}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"grid grid-flow-col grid-cols-4 gap-4 border-b-2\">\r\n          <p className=\"text-sm font-bold\">Label</p>\r\n          <p className=\"text-sm font-bold\">Deskripsi</p>\r\n          <p className=\"text-sm font-bold\">Bobot</p>\r\n          <p className=\"text-sm font-bold justify-items-center items-center flex justify-center\">\r\n            Tipe Kontrol\r\n          </p>\r\n        </div>\r\n        {tipePoinItem.map((value, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"grid grid-flow-col grid-cols-4 gap-4 py-2\"\r\n          >\r\n            <input\r\n              value={value.label}\r\n              onChange={(e) => {\r\n                const { value } = e.target;\r\n                let tempArr = [...tipePoinItem];\r\n                tempArr[index].label = value;\r\n                setTipePoinItem(tempArr);\r\n              }}\r\n              className=\" w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n            />\r\n            <input\r\n              value={value.deskripsi}\r\n              onChange={(e) => {\r\n                const { value } = e.target;\r\n                let tempArr = [...tipePoinItem];\r\n                tempArr[index].deskripsi = value;\r\n                setTipePoinItem(tempArr);\r\n              }}\r\n              className=\" w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n            />\r\n            <input\r\n              value={value.bobot}\r\n              onChange={(e) => {\r\n                const { value } = e.target;\r\n                let tempArr = [...tipePoinItem];\r\n                tempArr[index].bobot = parseInt(value);\r\n                setTipePoinItem(tempArr);\r\n              }}\r\n              pattern=\"[0-9]\"\r\n              className=\" w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n            />\r\n            <div className=\"justify-items-center items-center flex justify-center\">\r\n              {value.control_type === \"radio_button\" && (\r\n                <Tooltip title=\"Pilihan\">\r\n                  <RadioButtonChecked />\r\n                </Tooltip>\r\n              )}\r\n              {value.control_type === \"checkbox\" && (\r\n                <Tooltip title=\"Pilihan ganda\">\r\n                  <CheckBox />\r\n                </Tooltip>\r\n              )}\r\n              {value.control_type === \"upload_file\" && (\r\n                <Tooltip title=\"Upload file\">\r\n                  <Publish />\r\n                </Tooltip>\r\n              )}\r\n              {value.control_type === \"freetext\" && (\r\n                <Tooltip title=\"Freetext\">\r\n                  <Subject />\r\n                </Tooltip>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div className=\"grid grid-cols-10 mt-16\">\r\n          <button\r\n            onClick={updatePertanyaan}\r\n            disabled={tipePoinItem.length === 0}\r\n            className={`py-2 bg-blue-400 text-white rounded text-center ${\r\n              tipePoinItem.length === 0\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer\"\r\n            }`}\r\n          >\r\n            Simpan\r\n          </button>\r\n          <button\r\n            onClick={() => setShowDetail(false)}\r\n            className=\"py-2 bg-red-400 ml-3 text-white rounded text-center\"\r\n          >\r\n            Kembali\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst TambahPertanyaan = ({ setShowAdd }) => {\r\n  const accessToken = useSelector((state) => state.accessToken);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [questionTitle, setQuestionTitle] = useState(\"\");\r\n  const [questionDescription, setQuestionDescription] = useState(\"\");\r\n  const [questionScore, setQuestionScore] = useState();\r\n  const [questionType, setQuestionType] = useState([]);\r\n  const [tipePoinItem, setTipePoinItem] = useState([]);\r\n\r\n  const { addToast } = useToasts();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    fetchTipePoin();\r\n  }, []);\r\n\r\n  const fetchTipePoin = async () => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      setQuestionType([]);\r\n      dispatch(setLoading(true));\r\n      const response = await axiosGeneral.get(\"/resources/tipe-poin\", {\r\n        headers,\r\n      });\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        setQuestionType(data.data);\r\n        dispatch(setLoading(false));\r\n      }\r\n    } catch (error) {\r\n      addToast(\"fetchTipePoin \"+error.response.data.message, { appearance: \"error\" });\r\n      dispatch(setLoading(false));\r\n    }\r\n  };\r\n  const fetchQuestionItemsByID = async (index) => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      dispatch(setLoading(true));\r\n      let newArr = [...questions];\r\n      newArr[index].item = [];\r\n      const id = newArr[index].id_tipe_poin;\r\n\r\n      const response = await axiosGeneral.get(`/resources/tipe-poin/${id}`, {\r\n        headers,\r\n      });\r\n      const { status, data } = response;\r\n      if (status === 200) {\r\n        const questionItems = data.data.item;\r\n        for (const item of questionItems) {\r\n          item.label = \"\";\r\n          item.deskripsi = \"\";\r\n          item.bobot = 0;\r\n        }\r\n        newArr[index].item = questionItems;\r\n        setQuestions(newArr);\r\n        dispatch(setLoading(false));\r\n      }\r\n    } catch (error) {\r\n      addToast(error.response.data.message, { appearance: \"error\" });\r\n      dispatch(setLoading(false));\r\n    }\r\n  };\r\n\r\n  const createPertanyaan = async () => {\r\n    try {\r\n      const headers = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n      const body = {\r\n        pertanyaan,\r\n        bobot: parseFloat(bobot) || 0,\r\n        id_tipe_poin: parseInt(tipePoinID),\r\n        item: [],\r\n      };\r\n      for (const item of tipePoinItem) {\r\n        const tempItem = {\r\n          id_tipe_poin_item: item.id,\r\n          label: item.label,\r\n          deskripsi: item.deskripsi,\r\n          bobot: parseInt(item.bobot) || 0,\r\n        };\r\n        body.item.push(tempItem);\r\n      }\r\n      dispatch(setLoading(true));\r\n      const response = await axiosGeneral.post(\r\n        \"/resources/poin-kuesioner\",\r\n        body,\r\n        { headers }\r\n      );\r\n      const { status } = response;\r\n      if (status === 200) {\r\n        addToast(\"Berhasil disimpan\", { appearance: \"success\" });\r\n        dispatch(setLoading(false));\r\n        setShowAdd(false);\r\n      }\r\n    } catch (error) {\r\n      addToast(error.response.data.message, { appearance: \"error\" });\r\n      dispatch(setLoading(false));\r\n    }\r\n  };\r\n  const addNewQuestion = () => {\r\n    const body = {\r\n      pertanyaan: \"\",\r\n      bobot: 0,\r\n      id_tipe_poin: 0,\r\n      item: [],\r\n    };\r\n    let newQuestion = [...questions];\r\n    newQuestion.push(body);\r\n    setQuestions(newQuestion);\r\n  };\r\n  const removeQuestion = (index) => {\r\n    let questionsArr = [...questions];\r\n    questionsArr.splice(index, 1);\r\n    setQuestions(questionsArr);\r\n  };\r\n  return (\r\n    <>\r\n      <div>\r\n        <h2 className=\"text-lg font-bold mb-4\">Tambah Pertanyaan Baru</h2>\r\n        <div className=\"bg-white shadow rounded-xl p-6\">\r\n          <div className=\"flex flex-row gap-6 mb-6\">\r\n            <div className=\"w-4/5\">\r\n              <label className=\"block text-sm font-bold pb-0\">Title</label>\r\n              <input\r\n                value={questionTitle}\r\n                onChange={(e) => setQuestionTitle(e.target.value)}\r\n                className=\"w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n              />\r\n            </div>\r\n            <div className=\"w-1/5\">\r\n              <label className=\"block text-sm font-bold pb-0\">Bobot Keseluruhan</label>\r\n              <input\r\n                value={questionScore}\r\n                maxLength={3}\r\n                max={100}\r\n                onChange={(e) =>\r\n                  setQuestionScore(\r\n                    e.target.value\r\n                      .replace(/[^1-9.]/g, \"\")\r\n                      .replace(/(\\..*)\\./g, \"$1\")\r\n                  )\r\n                }\r\n                className=\"w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-bold pb-0\">Deskripsi</label>\r\n            <textarea\r\n              value={questionDescription}\r\n              onChange={(e) => setQuestionDescription(e.target.value)}\r\n              className=\"w-full text-sm py-3 px-3 bg-gray-200 rounded focus:outline-none h-28 resize-none\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n        {questions.map((question, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"bg-white shadow rounded-xl p-6 my-4 relative\"\r\n          >\r\n            <div\r\n              onClick={() => removeQuestion(index)}\r\n              className=\"absolute -right-3 -top-3 bg-red-400 cursor-pointer rounded-full p-2\"\r\n            >\r\n              <Clear htmlColor=\"#FFF\" />\r\n            </div>\r\n            <div className=\"grid grid-flow-col col-auto gap-6 mb-10\">\r\n              <div className=\"col-span-3\">\r\n                <label className=\"text-sm font-bold pb-0\">Pertanyaan</label>\r\n                <input\r\n                  value={question.pertanyaan}\r\n                  onChange={(e) => {\r\n                    const { value } = e.target;\r\n                    let newArr = [...questions];\r\n                    newArr[index].pertanyaan = value;\r\n                    setQuestions(newArr);\r\n                  }}\r\n                  className=\"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-bold pb-0\">Bobot</label>\r\n                <input\r\n                  value={question.bobot}\r\n                  onChange={(e) => {\r\n                    const { value } = e.target;\r\n                    let newArr = [...questions];\r\n                    newArr[index].bobot = value\r\n                      .replace(/[^0-9.]/g, \"\")\r\n                      .replace(/(\\..*)\\./g, \"$1\");\r\n                    setQuestions(newArr);\r\n                  }}\r\n                  className=\"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n                />\r\n              </div>\r\n              <div className=\"max-w-5xl\">\r\n                <label className=\"text-sm font-bold pb-0\">Tipe Poin</label>\r\n                <select\r\n                  defaultValue=\"NULL\"\r\n                  onChange={(e) => {\r\n                    const { value } = e.target;\r\n                    let newArr = [...questions];\r\n                    newArr[index].id_tipe_poin = value;\r\n                    setQuestions(newArr);\r\n                    fetchQuestionItemsByID(index);\r\n                  }}\r\n                  className=\"block w-full  text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n                >\r\n                  <option value=\"NULL\" disabled>\r\n                    Pilih Tipe Poin\r\n                  </option>\r\n                  {questionType.map((value, index) => (\r\n                    <option key={index} value={value.id}>\r\n                      ({value.kode}) {value.deskripsi}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"grid auto-cols-auto grid-flow-col gap-4 border-b-2\">\r\n              <p className=\"text-sm font-bold\">Label</p>\r\n              <p className=\"text-sm font-bold col-span-3\">Deskripsi</p>\r\n              <p className=\"text-sm font-bold\">Bobot</p>\r\n              <p className=\"text-sm font-bold justify-items-center items-center flex justify-center\">\r\n                Tipe Kontrol\r\n              </p>\r\n            </div>\r\n            {question.item.map((value, index) => (\r\n              <div\r\n                key={index}\r\n                className=\"grid auto-cols-auto grid-flow-col gap-4 py-2\"\r\n              >\r\n                <input\r\n                  value={value.label}\r\n                  onChange={(e) => {\r\n                    let tempArr = [...question.item];\r\n                    tempArr[index].label = e.target.value;\r\n                    let newArr = [...questions];\r\n                    newArr.item = tempArr;\r\n                    setQuestions(newArr);\r\n                  }}\r\n                  className=\"w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n                />\r\n                <input\r\n                  value={value.deskripsi}\r\n                  onChange={(e) => {\r\n                    let tempArr = [...question.item];\r\n                    let newArr = [...questions];\r\n                    tempArr[index].deskripsi = e.target.value;\r\n                    newArr.item = tempArr;\r\n                    setQuestions(newArr);\r\n                  }}\r\n                  className=\"w-full col-span-3 text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n                />\r\n                <input\r\n                  value={value.bobot}\r\n                  onChange={(e) => {\r\n                    let tempArr = [...question.item];\r\n                    let newArr = [...questions];\r\n                    tempArr[index].bobot = e.target.value\r\n                      .replace(/[^1-9.]/g, \"\")\r\n                      .replace(/(\\..*)\\./g, \"$1\");\r\n                    newArr.item = tempArr;\r\n                    setQuestions(newArr);\r\n                  }}\r\n                  pattern=\"[0-9]{1,5}\"\r\n                  type=\"tel\"\r\n                  maxLength=\"3\"\r\n                  max=\"100\"\r\n                  min=\"1\"\r\n                  className=\" w-full text-sm py-2 px-3 bg-gray-200 rounded focus:outline-none\"\r\n                />\r\n                <div className=\"justify-items-center items-center flex justify-center\">\r\n                  {value.control_type === \"radio_button\" && (\r\n                    <Tooltip title=\"Pilihan\">\r\n                      <RadioButtonChecked />\r\n                    </Tooltip>\r\n                  )}\r\n                  {value.control_type === \"checkbox\" && (\r\n                    <Tooltip title=\"Pilihan ganda\">\r\n                      <CheckBox />\r\n                    </Tooltip>\r\n                  )}\r\n                  {value.control_type === \"upload_file\" && (\r\n                    <Tooltip title=\"Upload file\">\r\n                      <Publish />\r\n                    </Tooltip>\r\n                  )}\r\n                  {value.control_type === \"freetext\" && (\r\n                    <Tooltip title=\"Freetext\">\r\n                      <Subject />\r\n                    </Tooltip>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n        <button\r\n          onClick={addNewQuestion}\r\n          className=\"bg-gray-100 font-bold text-gray-700 border-dashed border-2 hover:bg-gray-200 cursor-pointer focus:outline-none rounded py-2 my-4 w-full block\"\r\n        >\r\n          Tambah Item Pertanyaan\r\n        </button>\r\n\r\n        <div className=\"grid grid-cols-10 mt-16\">\r\n          <button\r\n            onClick={() => console.log(questions)}\r\n            // disabled={tipePoinItem.length === 0}\r\n            className={`py-2 bg-blue-400 mr-3 text-white rounded text-center ${\r\n              tipePoinItem.length === 0\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer\"\r\n            }`}\r\n          >\r\n            Simpan\r\n          </button>\r\n          {/* <button\r\n            onClick={() => setShowAdd(false)}\r\n            className=\"py-2 bg-red-400 ml-3 text-white rounded text-center\"\r\n          >\r\n            Kembali\r\n          </button> */}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}